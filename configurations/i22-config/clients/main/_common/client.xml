<beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                http://www.springframework.org/schema/context
                http://www.springframework.org/schema/context/spring-context.xsd" >

    <context:property-placeholder/>

    <bean class="gda.spring.FindableNameSetterPostProcessor" />

    <bean class="gda.factory.corba.util.AdapterFactory">
        <constructor-arg index="0" value="${gda.factory.factoryName}" />
        <constructor-arg index="1">
            <bean class="gda.spring.NetServiceFactoryBean" />
        </constructor-arg>
    </bean>

    <bean class="uk.ac.gda.client.ServerFileListener" id="dataProjectUpdater">
        <property name="clientFileAnnouncerName" value="sockpuppet"/>
    </bean>

    <import resource="command_queue_processor.xml"/>
    <import resource="plot_server.xml" />

    <bean id="ScanDataPointServer" class="uk.ac.gda.remoting.client.GdaRmiProxyFactoryBean">
        <property name="serviceUrl" value="${gda.rmi.prefix}ScanDataPointServer" />
        <property name="serviceInterface" value="gda.scan.IScanDataPointServer" />
        <property name="refreshStubOnConnectFailure" value="true" />
    </bean>

    <bean id="clientReferences" class="gda.device.FindableObjectHolder">
        <property name="map">
            <map>
                <entry key="defaultPerspectives">
                    <list value-type="java.lang.String">
                        <value>gda.rcp.ncd.perspectives.SaxsProcessingPerspective</value>
                        <value>gda.rcp.ncd.perspectives.SaxsPerspective</value>
                        <value>gda.rcp.ncd.perspectives.WaxsPerspective</value>
                        <value>gda.rcp.ncd.perspectives.NcdDetectorPerspective</value>
                        <value>gda.rcp.ncd.perspectives.SetupPerspective</value>
                        <value>uk.ac.gda.client.scripting.JythonPerspective</value>
                    </list>
                </entry>
            </map>
        </property>
    </bean>
</beans>

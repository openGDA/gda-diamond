<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:util="http://www.springframework.org/schema/util" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd                         http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd                                 http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd                                         http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd                                                 http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd">
     <bean class="uk.ac.gda.server.ncd.epics.NDFileHDF5Impl" id="hdf5">
  <property name="basePVName" value="BL22I-EA-PILAT-01:HDF5:"/>
  <property name="compression" value="zlib"/>
  <property name="zCompressLevel" value="1"/>
  <property name="numRowChunks" value="1679"/>
  <property name="framesPerChunk" value="1"/>
  <property name="columnsPerChunk" value="1475"/>
  <property name="chunkAlignment" value="0"/>
  <property name="file">
   <bean class="gda.device.detector.areadetector.v17.impl.NDFileImpl">
    <property name="basePVName" value="BL22I-EA-PILAT-01:HDF5:"/>
    <property name="initialAutoIncrement" value="0"/>
    <property name="initialAutoSave" value="0"/>
    <property name="initialWriteMode" value="0"/>
    <property name="initialNumCapture" value="1"/>
    <property name="initialFileName" value="helloworld"/>
    <property name="initialFileTemplate" value="%s%s-%d.h5"/>
    <property name="pluginBase">
     <bean class="gda.device.detector.areadetector.v17.impl.NDPluginBaseImpl">
      <property name="basePVName" value="BL22I-EA-PILAT-01:HDF5:"/>
     </bean>
    </property>
   </bean>
  </property>
 </bean>
 <bean class="gda.device.detector.areadetector.v17.impl.NDArrayImpl" id="array">
  <property name="basePVName" value="BL22I-EA-PILAT-01:ARR:"/>
  <property name="pluginBase">
   <bean class="gda.device.detector.areadetector.v17.impl.NDPluginBaseImpl">
    <property name="basePVName" value="BL22I-EA-PILAT-01:ARR:"/>
   </bean>
  </property>
 </bean>
 <bean class="uk.ac.gda.server.ncd.pilatus.PilatusADController" id="controller">
  <property name="basePVName" value="BL22I-EA-PILAT-01:CAM:"/>
  <property name="areaDetector" ref="AreaDetector"/>
  <property name="HDF5" ref="hdf5"/>
  <property name="array" ref="array"/>
  <property name="stats" ref="stats"/>
 </bean>
 <bean class="gda.device.detector.areadetector.v17.impl.NDStatsImpl" id="stats">
  <property name="basePVName" value="BL22I-EA-PILAT-01:STAT:"/>
 </bean>
 <bean class="gda.device.detector.areadetector.v17.impl.ADBaseImpl" id="AreaDetector">
  <property name="basePVName" value="BL22I-EA-PILAT-01:CAM:"/>
  <property name="initialDataType" value="UInt16"/>
  <property name="initialMinX" value="0"/>
  <property name="initialMinY" value="0"/>
  <property name="initialSizeX" value="1475"/>
  <property name="initialSizeY" value="1679"/>
  <property name="initialBinX" value="1"/>
  <property name="initialBinY" value="1"/>
 </bean>
 <bean id="pilatus_saxs_ndattributes" class="gda.device.detector.nxdetector.plugin.areadetector.ADNDAttributesPlugin" />
  <bean class="uk.ac.gda.server.ncd.subdetector.NcdPilatusAD" id="Pilatus2M_SAXS">
    <property name="controller" ref="controller"/>
    <property name="detectorType" value="SAXS"/>
    <property name="pixelSize" value="0.000172"/>
    <property name="serialNumber" value="24-0113" />
    <property name="nxplugins">
        <list>
            <ref bean="pilatus_saxs_ndattributes"/>
        </list>
    </property>
    <property name="metaProviders">
      <list>
        <ref bean="saxs_mask" />
        <ref bean="saxs_cal" />
        <ref bean="saxs_bg" />
      </list>
    </property>
  </bean>
  <bean class="gda.device.detector.nxdetector.roi.PlotServerROISelectionProvider" id="saxs_roi_provider">
        <property name="viewName" value="Saxs Plot"/>
        <property name="maximumActiveRois" value="1"/>
    </bean>
</beans>

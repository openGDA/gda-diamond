#
# Important directory locations. May be overriden by -D flags (or options in the python startup script)
#

gda.factory.factoryName 	= i10server
gda.oe.oefactory        	= remote
gda.factory.allowExceptionInConfigure=true
gda.objectserver.initialisationCompleteFolder=${gda.var}
#
# for rbac
#
gda.accesscontrol.useAccessControl = true
# if set to true then the BatonPanel MUST be used in the GUI to exchange and control the baton
gda.accesscontrol.useBatonControl = true
# this must not be set to less than 1 or baton passing will not work
gda.accesscontrol.defaultAuthorisationLevel = 1
gda.accesscontrol.defaultStaffAuthorisationLevel = 3 
gda.accesscontrol.firstClientTakesBaton = true
gda.user.permissions.dir = ${gda.config}/xml

# Login Authentication 
#Remove so we do not have the login window gda.gui.AcquisitionGUI.authenticationMethod = gda.jython.authenticator.LdapAuthenticator
gda.gui.AcquisitionGUI.authorisationMethod = gda.jython.authoriser.LdapAuthoriser

#
# Offline configuration (version in svn)
#
#configuration for messages received by the logPanel application via gda.logPanel.logging.port
gda.logPanel.logging.xml= ${gda.config}/clients/log/common/logPanel.xml

#
# Documentation
#
gda.help.manual=http://doc.diamond.ac.uk/Documentation/GDA-manual.html
gda.bugReport.site=http://trac.diamond.ac.uk/beam/login
gda.beamline.manual=http://intranet.diamond.ac.uk/B18Manual.html

#
## Next are settings for scripting ##
#
gda.data.scan.datawriter.datadir    = ${gda.data}/$year$/$visit$/$subdirectory$
gda.jython.translator.class         = GeneralTranslator

#gda.data.scan.datawriter.dataFormat = NexusDataWriter
gda.data.scan.datawriter.dataFormat = SrsDataFile
# Needed when dataFormat=SrsDataFile to make behaviour same as NexusDataWriter
gda.data.numtracker.extension       = i10
gda.data.scan.datawriter.filePrefix = i10-

gda.scan.sets.scannumber = True

gda.jython.socket=1234
gda.function.columnDataFile.lookupDir = ${gda.config}/lookupTables

# Command to run at the end of a scan.
#gda.scan.executeAtEnd = ls -al

# Configuration for NeXus writing
gda.nexus.backend        = HDF5
gda.nexus.beamlinePrefix = true
gda.nexus.createSRS      = false

#  Cap the memory used by the client's terminal textbox
gda.jython.jythonTerminal.textFieldCharactersCap = 100000
# And for the Message and Debug Panels
gda.util.LoggingPanels.textFieldCharactersCap = 100000


## Database and persistence settings

gda.util.persistence.database.dbpath	= ${gda.var}/gdaDatabase
gda.util.persistence.database.username	= gda
gda.util.persistence.database.password	= gda

# Following two to connect to external database
#gda.util.persistence.database.driver 	= org.apache.derby.jdbc.ClientDriver 
#gda.util.persistence.database.protocol = jdbc:derby://localhost:1527/

# These two to use embedded driver
gda.util.persistence.database.driver	= org.apache.derby.jdbc.EmbeddedDriver
gda.util.persistence.database.protocol	= jdbc:derby:



#
## Next are miscellaneaous settings for various file locations and options ##
#
#gda.objectDelimiter       = .
gda.params	       	      = ${gda.config}
gda.motordir              = ${gda.var}/motorPositions
gda.limitsdir		      = ${gda.var}/limitsAndOffset
gda.softlimits.save       = true
#
# setting the primary screen for GDA GUI display - default is 0
#gda.screen.primary=0
# GDA GUI display configuration
# if fractionalSize defined, width/height will not be used
#gda.gui.fractionalSize      = 0.9
gda.gui.width=1440
gda.gui.height=900

#
# EPICS
#
gda.beamline.name = BL10I
gda.epics.request.timeout=20.0
#gda.epics.interface.xml is needed as many devices don't yet support epicsConfiguration property.
gda.epics.interface.xml = ${gda.config}/xml/epics/BL10I-gda-interface.xml
#gda.epics.interface.xml.unchecked = ${gda.config}/xml/epics/gda-interface_unchecked.xml
gda.epics.EpicsDeviceFactory = true
gda.epics.SimulatedEpicsDeviceFactory = true


## MCA calibration dir
# mca.calibration.dir = ${gda.data}/scripts

##directory for lookup files
#gda.lookup.directory = C:/users/lookup

## Controls saving of metadata to Nexus files and data files to SRB
## server xml requires <FindableHashtable> entry for state communication
gda.data.nexusMetadata = false
gda.data.srbStore = false

# Metadata
#this must match the name in ICAT!!!!!!!!!!!!!!!!!!!!!
gda.instrument      = i10
gda.facility        = DLS
gda.facility.probe  = x-ray
gda.facility.type   = Synchrotron X-ray Source

# Metadata values that would normally be read from ICAT
# (just define them as properties so that we don't need an ICAT!)
gda.icat.visit = sc666-0
gda.icat.proposal = 666
gda.icat.title = GDA base simulation

# Default values
# gda.defVisit is used when IKitten does not pick up the visit properly
gda.defVisit = cm5934-4

gda.jython.GDAJythonInterpreter.useWriters = True
gda.jython.namespaceMappingFile = ${gda.jython.gdaScriptDir}/jythonNamespaceMapping
gda.jython.beamlineParametersFile = ${gda.jython.gdaScriptDir}/beamlineParameters
gda.jython.finderNameMappingFile = ${gda.jython.gdaScriptDir}/finderNameMapping

gda.beamline.name=I10

#elog
gda.elog.targeturl = http://rdb.pri.diamond.ac.uk/devl/php/elog/cs_logentryext_bl.php

# Port on which the HTTP server should listen. This is only used when creating
# a Jetty HTTP server in a Spring beans configuration file
# (e.g. stnBase_server_beans.xml).
gda.server.port=8080

# used for ICAT
oracle.host=i10-control.diamond.ac.uk
oracle.port=1521

gda.data.metadata.icat.type            = gda.data.metadata.icat.DLSIcat
#gda.data.metadata.icat.type            = gda.data.metadata.icat.NullIcat
gda.data.metadata.icat.url             = jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=${oracle.host})(PROTOCOL=tcp)(PORT=${oracle.port}))(CONNECT_DATA=(SID=xe)))
# The shift tolerance default is 1440, the larger tolerance is for when testing qtk13560 visits
gda.data.metadata.icat.shift_tolerance = 1440
#gda.data.metadata.icat.shift_tolerance = 1440000
gda.data.metadata.dlsicat.user         = ikiti10
gda.data.metadata.dlsicat.password     = d24sb4k

#gda.diffcalc.path = ${gda.root}/../diffcalc
gda.diffcalc.path = ${gda.install.git.loc}/diffcalc
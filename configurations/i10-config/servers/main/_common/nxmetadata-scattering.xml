<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">
	
	<!-- creating a new system property -->
	<bean class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
		<property name="targetObject">
			<bean class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
				<property name="targetClass" value="java.lang.System" />
				<property name="targetMethod" value="getProperties" />
			</bean>
		</property>
		<property name="targetMethod" value="putAll" />
		<property name="arguments">
			<util:properties>
				<prop key="gda.endstation.name">RASOR</prop>
			</util:properties>
		</property>
	</bean>
	<!-- Scattering Branch -->
	<bean id="s4NexusDevice" class="org.eclipse.scanning.device.NexusMetadataDevice" init-method="register">
		<property name="name" value="s4" />
		<property name="category" value="NX_INSTRUMENT"/>
		<property name="nexusClass" value="NXslit"/>
		<property name="childNodes">
			<list>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_gap"/>
					<property name="scannableName" value="s4xgap"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_gap"/>
					<property name="scannableName" value="s4ygap"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_size"/>
					<property name="scannableName" value="s4xsize"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_size"/>
					<property name="scannableName" value="s4ysize"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="z"/>
					<property name="scannableName" value="s4z"/>
				</bean>
			</list>
		</property>
	</bean>
	<bean id="s5NexusDevice" class="org.eclipse.scanning.device.NexusMetadataDevice" init-method="register">
		<property name="name" value="s5" />
		<property name="category" value="NX_INSTRUMENT"/>
		<property name="nexusClass" value="NXslit"/>
		<property name="childNodes">
			<list>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_gap"/>
					<property name="scannableName" value="s5xsize"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_gap"/>
					<property name="scannableName" value="s5ysize"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_pos"/>
					<property name="scannableName" value="s5xcentre"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_pos"/>
					<property name="scannableName" value="s5ycentre"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_ring"/>
					<property name="scannableName" value="s5xring"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_hall"/>
					<property name="scannableName" value="s5xhall"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_plus"/>
					<property name="scannableName" value="s5yplus"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_minus"/>
					<property name="scannableName" value="s5yminus"/>
				</bean>
			</list>
		</property>
	</bean>
	<bean id="s6NexusDevice" class="org.eclipse.scanning.device.NexusMetadataDevice" init-method="register">
		<property name="name" value="s6" />
		<property name="category" value="NX_INSTRUMENT"/>
		<property name="nexusClass" value="NXslit"/>
		<property name="childNodes">
			<list>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_gap"/>
					<property name="scannableName" value="s6xsize"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_gap"/>
					<property name="scannableName" value="s6ysize"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_pos"/>
					<property name="scannableName" value="s6xcentre"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_pos"/>
					<property name="scannableName" value="s6ycentre"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_ring"/>
					<property name="scannableName" value="s6xring"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x_hall"/>
					<property name="scannableName" value="s6xhall"/>
				 </bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_plus"/>
					<property name="scannableName" value="s6yplus"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y_minus"/>
					<property name="scannableName" value="s6yminus"/>
				</bean>
			</list>
		</property>
	</bean>
	<bean id="m4NexusDevice" class="org.eclipse.scanning.device.NexusMetadataDevice" init-method="register">
		<property name="name" value="m4" />
		<property name="category" value="NX_INSTRUMENT"/>
		<property name="nexusClass" value="NXmirror"/>
		<property name="childNodes">
			<list>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="x"/>
					<property name="scannableName" value="m4_x"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="y"/>
					<property name="scannableName" value="m4_y"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="z"/>
					<property name="scannableName" value="m4_z"/>
				</bean>
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="yaw"/>
					<property name="scannableName" value="m4_yaw"/>
				</bean>		
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="pitch"/>
					<property name="scannableName" value="m4_pitch"/>
				</bean>		
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="roll"/>
					<property name="scannableName" value="m4_roll"/>
				</bean>		
				<bean class="org.eclipse.scanning.device.ScannableField">
					<property name="name" value="m4_fine_pitch"/>
					<property name="scannableName" value="m4fpitch"/>
					<property name="units" value="V"/>
				</bean>		
			</list>
		</property>
	</bean>
	
	<bean id="rasorNexusDevice" class="org.eclipse.scanning.device.NexusMetadataDevice" init-method="register">
		<property name="name" value="rasor" />
		<property name="category" value="NX_INSTRUMENT"/>
		<property name="nexusClass" value="NXcollection"/>
		<property name="childNodes">
			<list>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="diff"/>
					<property name="nexusClass" value="NXcollection"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="2_theta"/>
								<property name="scannableName" value="tth"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="theta"/>
								<property name="scannableName" value="th"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="chi"/>
								<property name="scannableName" value="chi"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="x"/>
								<property name="scannableName" value="difx"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="alpha"/>
								<property name="scannableName" value="alpha_rasor"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="pin_hole"/>
					<property name="nexusClass" value="NXpinhole"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="x"/>
								<property name="scannableName" value="pinhx"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="y"/>
								<property name="scannableName" value="pinhy"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="aperture"/>
					<property name="nexusClass" value="NXaperture"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="downstream"/>
								<property name="scannableName" value="dsd"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="upstream"/>
								<property name="scannableName" value="dsu"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="cryo"/>
					<property name="nexusClass" value="NXcollection"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="x"/>
								<property name="scannableName" value="sx"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="y"/>
								<property name="scannableName" value="sy"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="z"/>
								<property name="scannableName" value="sz"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="table"/>
					<property name="nexusClass" value="NXcollection"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="front_leg"/>
								<property name="scannableName" value="lgf"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="middle_leg"/>
								<property name="scannableName" value="lgm"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="back_leg"/>
								<property name="scannableName" value="lgb"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="emec"/>
					<property name="nexusClass" value="NXcollection"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="y1"/>
								<property name="scannableName" value="emecy1"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="y2"/>
								<property name="scannableName" value="emecy2"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="pitch"/>
								<property name="scannableName" value="emecpitch"/>
							</bean>		
						</list>
					</property>
				</bean>
				<bean class="org.eclipse.scanning.device.GroupMetadataNode">
					<property name="name" value="polan"/>
					<property name="nexusClass" value="NXcollection"/>
					<property name="childNodes"> <!-- add child groups as appropriate -->
						<list>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="eta"/>
								<property name="scannableName" value="eta"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="theta"/>
								<property name="scannableName" value="thp"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="2_theta"/>
								<property name="scannableName" value="ttp"/>
							</bean>
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="y"/>
								<property name="scannableName" value="py"/>
							</bean>		
							<bean class="org.eclipse.scanning.device.ScannableField">
								<property name="name" value="z"/>
								<property name="scannableName" value="pz"/>
							</bean>		
						</list>
					</property>
				</bean>
			</list>
		</property>
	</bean>
</beans>

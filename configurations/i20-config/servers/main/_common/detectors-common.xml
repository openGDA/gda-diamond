<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

	<bean id="FFI0_vortex" class="gda.device.detector.xmap.TfgXMapFFoverI0">
		<property name="xmap" ref="xmapMca" />
		<!--property name="scaler" ref="CalMemory" / -->
		<property name="counterTimer" ref="ionchambers" />
		<property name="extraNames">
			<list>
				<value>FFI0</value>
			</list>
		</property>
		<property name="outputFormat">
			<list>
				<value>%.6f</value>
			</list>
		</property>
	</bean>

<!-- 	<bean id="xspressConfig" class="gda.device.detector.xspress.XspressDetectorConfiguration" > -->
<!-- 		<constructor-arg> -->
<!-- 			<ref bean="xspress2system" /> -->
<!-- 		</constructor-arg> -->
<!-- 	</bean> -->
<!-- 	<bean class="uk.ac.gda.remoting.server.GdaRmiServiceExporter"> -->
<!-- 		<property name="serviceName" value="gda/xspressConfig" /> -->
<!-- 		<property name="service" ref="xspressConfig" /> -->
<!-- 		<property name="serviceInterface" value="gda.device.detector.FluorescentDetectorConfiguration" /> -->
<!-- 	</bean> -->
	
	<bean id="vortexConfig" class="gda.device.detector.xmap.VortexDetectorConfiguration" >
		<constructor-arg>
			<ref bean="xmapMca" />
		</constructor-arg>
	</bean>
	<bean class="uk.ac.gda.remoting.server.GdaRmiServiceExporter">
		<property name="serviceName" value="gda/vortexConfig" />
		<property name="service" ref="vortexConfig" />
		<property name="serviceInterface" value="gda.device.detector.FluorescentDetectorConfiguration" />
	</bean>

<!-- 	FLuorescense detector wrapper for Vortex. imh 4/11/2016 -->
	<bean id="vortexDetector" class="gda.device.detector.xmap.NexusXmapFluorescenceDetectorAdapter" >
		<constructor-arg index="0" ref="xmapMca" />
		<constructor-arg index="1" value="1" />
		<property name="mcaCollectionUsesTfg" value="true" />
	</bean>
	<bean class="uk.ac.gda.remoting.server.GdaRmiServiceExporter">
		<property name="serviceName" value="gda/vortexDetector" />
		<property name="service" ref="vortexDetector" />
		<property name="serviceInterface" value="uk.ac.gda.devices.detector.FluorescenceDetector" />
	</bean>
	
	
<!-- 	<bean class="uk.ac.gda.remoting.server.GdaRmiServiceExporter"> -->
<!-- 		<property name="serviceName" value="gda/xspress2system" /> -->
<!-- 		<property name="service" ref="xspress2system" /> -->
<!-- 		<property name="serviceInterface" -->
<!-- 			value="uk.ac.gda.devices.detector.XspressFluorescenceDetector" /> -->
<!-- 	</bean> -->

	<bean id="detectorMonitorDataProvider" class="gda.device.detector.DetectorMonitorDataProvider">
		<property name="name" value="detectorMonitorDataProvider" />
<!-- 		<property name="xspress2Detector" ref="xspress2system" /> -->
<!-- 		<property name="xspress4Detector" ref="xspress4" /> -->
		<property name="xmapDetector" ref="xmapMca" />
		<property name="ionChambers" ref="ionchambers" />
		<property name="medipixDetector" ref="medipix_addetector" />
	</bean>

	<bean class="uk.ac.gda.remoting.server.GdaRmiServiceExporter">
		<property name="serviceName" value="gda/detectorMonitorDataProvider" />
		<property name="service" ref="detectorMonitorDataProvider" />
		<property name="serviceInterface" value="gda.device.detector.DetectorMonitorDataProviderInterface" />
	</bean>
</beans>
PROCESSES="java gda-i06"

RUNNING=false
WRONG_USER=false
REBOOT=false

# Try to kill any processes left hanging around.
#
for process in $PROCESSES
do
if [ `uname` = "Linux" ]
  then
    echo kill -9 `ps -ef --cols 6000 | grep "$process" | grep -v grep | awk '{print $2}'` 
    kill -9 `ps -ef --cols 6000 | grep "$process" | grep -v grep | awk '{print $2}'` 
else
  echo kill -9 `ps -ef | grep "$process" | grep -v grep | awk '{print $2}'` > /dev/null 2>&1
  kill -9 `ps -ef | grep "$process" | grep -v grep | awk '{print $2}'` > /dev/null 2>&1
fi
done
#
# Test if processes are still running
#
for process in $PROCESSES
do
  if [ `uname` = "Linux" ]
    then
      output=`ps -ef --cols 6000 | grep "$process" | grep -v grep | awk '{print $2}'`
  else
    output=`ps -ef | grep "$process" | grep -v grep | awk '{print $2}'`
  fi
  if [ -n "$output" ]
    then
      RUNNING=true
      USERS=`ps -ef --cols 6000 | grep "$process" | grep -v grep | awk '{print $1}'`
      for user in $USERS
      do
        if [ "$user" != "$USER" ]
          then
            echo "Resistant process identifier \"$process\" owned by $user"
            WRONG_USER=true
        fi
      done
      REBOOT=true
  fi
done
#




/dls_sw/i06/software/gda/client/gda-i06 -consoleLog -showLocation --launcher.appendVmargs -vmargs -Declipse.pluginCustomization=/dls_sw/i06/software/gda/workspace_git/gda-mt.git/configurations/i06-config/client/i06/pluginCustomization.ini -Duk.ac.diamond.scisoft.analysis.analysisrpcserverprovider.disable=true -Duk.ac.diamond.scisoft.analysis.rmiserverprovider.disable=true -Dgda.install.git.loc=/dls_sw/i06/software/gda/workspace_git -Dgda.install.workspace.loc=/dls_sw/i06/software/gda -Dgda.data=/dls/i06 -Dgda.var=/dls/i06/var -Dgda.logs.dir=/dls_sw/i06/logs -Djacorb.config.dir=/dls_sw/i06/software/gda/workspace_git/gda-mt.git/configurations/i06-config/properties/jacorb_i06 -Dgda.propertiesFile=/dls_sw/i06/software/gda/workspace_git/gda-mt.git/configurations/i06-config/properties/java.properties_i06 -Dgda.config=/dls_sw/i06/software/gda/workspace_git/gda-mt.git/configurations/i06-config -Dgov.aps.jca.JCALibrary.properties=/dls_sw/i06/software/gda/workspace_git/gda-mt.git/configurations/i06-config/properties/JCALibrary.properties

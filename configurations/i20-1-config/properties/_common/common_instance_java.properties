gda.beamline.name=i20-1

gda.data.scan.datawriter.datadir	= ${gda.data}/$year$/$visit$/

gda.bugReport.site=http://jira.diamond.ac.uk/secure/CreateIssue.jspa?pid=10930&issuetype=1

gda.factory.factoryName 	= ${gda.beamline.name}
gda.oe.oefactory        	= remote
gda.objectserver.xml    	= ${gda.config}/servers/main/${gda.mode}/server.xml
gda.gui.beans.xml           = ${gda.config}/clients/main/${gda.mode}/client.xml
gda.factory.allowExceptionInConfigure=true

# EPICS
gda.beamline.epics.name           = BL20J
gda.epics.request.timeout         = 20.0
gda.epics.interface.xml           = ${gda.config}/xml/${gda.beamline.epics.name}-gda-interface.xml
gda.epics.interface.schema        = ${gda.config}/xsd/genericBeamlineSchema.xsd
gda.epics.interface.xml.unchecked = ${gda.config}/xml/gda-interface_unchecked.xml
gda.epics.EpicsDeviceFactory      = true

# for rbac
gda.accesscontrol.useAccessControl = true 
# if set to true then the BatonPanel MUST be used in the GUI to exchange and control the baton
gda.accesscontrol.useBatonControl = true
# this must not be set to less than 1 or baton passing will not work
gda.accesscontrol.defaultAuthorisationLevel = 1
gda.accesscontrol.defaultStaffAuthorisationLevel = 3 
gda.accesscontrol.firstClientTakesBaton = true
## Login Authentication
#gda.gui.AcquisitionGUI.authenticationMethod = gda.jython.authenticator.LdapAuthenticator
gda.gui.AcquisitionGUI.authorisationMethod = gda.jython.authoriser.LdapAuthoriser

# logging
# port used by logserver to receive messages
gda.server.logging.port = 6788
# port for log viewer to attach to or used by logserver to send message to viewer
gda.logserver.out.port=6750
# set to -1 to enable RCP log viewer
gda.logPanel.logging.port=-1

# configuration for messages originating from the client
gda.client.logging.xml = ${gda.config}/properties/${gda.mode}/client_and_server_logging.xml
# configuration for messages originating from the object server
gda.server.logging.xml = ${gda.config}/properties/${gda.mode}/client_and_server_logging.xml
# configuration for messages received by the log server via gda.server.logging.port
gda.logserver.xml = ${gda.config}/properties/${gda.mode}/logServer.xml

# Documentation
gda.help.manual    = http://www.opengda.org/documentation/manuals/GDA_User_Guide/${gda.version}/contents.html
gda.bugReport.site = http://jira.diamond.ac.uk/browse/BLXXJ/?selectedTab=com.atlassian.jira.jira-projects-plugin:issues-panel
gda.beamline.manual= http://confluence.diamond.ac.uk/display/I20/I20-1+beamline+documentation

# scripting and the scanning mechanism
gda.jython.terminalOutputDir        = ${gda.logs.dir}
gda.scan.sets.scannumber            = true
gda.data.scan.datawriter.dataFormat = XasAsciiNexusDataWriter
gda.data.filePrefix                 = ${gda.beamline.name}_

# Command to run at the end of a scan.
#gda.scan.executeAtEnd = ls -al

# Configuration for NeXus writing
gda.nexus.backend        = HDF5
gda.nexus.beamlinePrefix = false
gda.nexus.createSRS      = false

#  Cap the memory used by the client's terminal textbox
gda.jython.jythonTerminal.textFieldCharactersCap = 100000
# And for the Message and Debug Panels
gda.util.LoggingPanels.textFieldCharactersCap = 100000

## Next three settings are for the jacorb CORBA event service ##
gda.ORBClass             = org.jacorb.orb.ORB
gda.ORBSingletonClass    = org.jacorb.orb.ORBSingleton
gda.eventChannelName     = local.eventChannel

## Next are miscellaneaous settings for various file locations and options ##
gda.params	       	      = ${gda.config}
gda.motordir              = ${gda.config}/var/motorPositions
gda.limitsdir		      = ${gda.config}/var/limitsAndOffset
gda.softlimits.save       = true

## Controls saving of metadata to Nexus files and data files to SRB
## server xml requires <FindableHashtable> entry for state communication
gda.data.nexusMetadata = false
gda.data.srbStore = false

# Metadata
gda.instrument      = ${gda.beamline.name}
gda.facility        = DLS
gda.facility.probe  = x-ray
gda.facility.type   = Synchrotron X-ray Source

gda.jython.namespaceMappingFile = ${gda.config}/scripts/jythonNamespaceMapping
gda.jython.beamlineParametersFile = ${gda.config}/scripts/beamlineParameters
gda.jython.finderNameMappingFile = ${gda.config}/scripts/finderNameMapping

#elog
gda.elog.targeturl = http://rdb.pri.diamond.ac.uk/devl/php/elog/cs_logentryext_bl.php

# Port on which the HTTP server should listen. This is only used when creating
# a Jetty HTTP server in a Spring beans configuration file
# (e.g. stnBase_server_beans.xml).
gda.server.port=8080

# Mono rate in ms/eV
gda.exafs.mono.energy.rate = 200
# Readout constant in ms
gda.exafs.read.out.time    = 500

# RCP client options
uk.ac.gda.pydev.show.python.config.project = true
uk.ac.gda.pydev.show.python.gda.project    = true


#########################################################################
# Logging
# TODO remove these properties to use the default core logging configuration instead

# Logging properties which used to be in dls-config and have been removed
gda.logserver.host = ${gda.server.host}
gda.logserver.out.port = 6750
gda.server.logging.port = 6788

# port used by logPanel application to receive messages - normally from logserver
gda.logPanel.logging.port=-1
gda.client.logging.xml =    ${gda.config}/properties/${gda.mode}/client_and_server_logging.xml
gda.server.logging.xml =    ${gda.config}/properties/${gda.mode}/client_and_server_logging.xml
gda.logserver.xml =			${gda.config}/properties/${gda.mode}/logServer.xml
#########################################################################

gda.gui.beans.xml =			${gda.config}/clients/main/${gda.mode}/client.xml
gda.gui.xml =				${gda.config}/clients/main/${gda.mode}/client.xml

# for experiment perspective. So it uses the correct project in the workspace
gda.client.experimentdefinition.project.name = ede

#Add all beamline specific keys before this line
#include=${sys:gda.group.dir}/properties/${sys:gda.mode}/${sys:gda.mode}_family_java.properties
include=${sys:gda.facility.dir}/properties/${sys:gda.mode}/${sys:gda.mode}_facility_java.properties
#Do not set any keys after this line as the value may not get set as expected.

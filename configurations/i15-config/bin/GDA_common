# No Shebang since this will always be sourced.

module load java/gda830-64

# TODO: Make this location independent
export GDACORE=/dls_sw/i15/software/gda/workspace_git/gda-core.git/uk.ac.gda.core/bin/gda
export GDACLIENT=/dls_sw/i15/software/gda/workspace_git/gda-diamond.git/dls-config/bin/gdaclient

# GDACLIENT required $BEAMLINE to be set, so make sure it is set for
# dummy operation off the beamline.
export BEAMLINE=i15

LOGDIR=/dls_sw/i15/var
LOGNAME=$1
export LOGFILE=$LOGDIR/$LOGNAME/$LOGNAME_`date +%F-%T`.txt
touch $LOGFILE
rm $LOGDIR/$LOGNAME.txt
ln -s $LOGFILE $LOGDIR/$LOGNAME.txt

echo --------------------------------------------------------
echo -------------------------------------------------------- >> $LOGFILE
echo "Log $LOGNAME ($USER@$HOSTNAME)"                         to $LOGFILE
echo "Log $LOGNAME ($USER@$HOSTNAME)"                         >> $LOGFILE
echo -------------------------------------------------------- >> $LOGFILE
echo --------------------------------------------------------
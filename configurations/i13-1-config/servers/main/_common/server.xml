<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xmlns:gda="http://www.diamond.ac.uk/schema/gda/gda"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
		http://www.diamond.ac.uk/schema/gda/gda
		http://www.diamond.ac.uk/schema/gda/gda/gda-gda-1.1.xsd">


	<import resource="classpath:gda/spring/propertyeditors/registration.xml" />

	<import resource="commandQueueProcessor.xml" />
	<import resource="GDAMetadata.xml" />
	<import resource="imageProcessors.xml" />
	<import resource="jythonServerFacade.xml" />
	<import resource="mapping_scan_server.xml" />

	<bean class="gda.spring.FindableNameSetterPostProcessor" />
	<bean class="gda.spring.SingletonRegistrationPostProcessor" />

	<bean id="GDAHashtable" class="gda.util.findableHashtable.FindableHashtable" />

	<bean id="plot_server" class="uk.ac.diamond.scisoft.analysis.plotserver.PlotServerBase" />
	
	<gda:rmi-export
		service="plot_server"
		serviceName="gda/plotserver"
		serviceInterface="uk.ac.diamond.scisoft.analysis.PlotServer" />

	<!-- Replaces ScanDataStore -->
	<bean class="org.springframework.remoting.rmi.RmiServiceExporter">
		<property name="serviceName" value="gda/ScanDataPointServer" />
		<property name="service" value="#{ T(gda.scan.ScanDataPointServer).getInstance() }" />
		<property name="serviceInterface" value="gda.scan.IScanDataPointServer" />
	</bean>

	<import resource="../../../devices/_common/simpleScannables.xml" />

	<!-- Start of real device list -->

	<import resource="../../../devices/_common/fast_shutter.xml"/>

	<import resource="../../../devices/_common/undulator.xml" />
	<import resource="../../../devices/_common/front_end.xml" />

	<import resource="../../../devices/_common/s1.xml" />

	<import resource="../../../devices/_common/filters.xml" />
	
	<import resource="../../../devices/_common/gas_bremsstrahlung1.xml"/>

	<import resource="../../../devices/_common/m1.xml" />

	<import resource="../../../devices/_common/s2.xml" />
	<import resource="../../../devices/_common/s3.xml" />
	
	<import resource="../../../devices/_common/d1.xml" />
	<import resource="../../../devices/_common/d2.xml" />
	<import resource="../../../devices/_common/d3.xml" />
	<import resource="../../../devices/_common/d4.xml" />
	<import resource="../../../devices/_common/d5.xml" />

	<import resource="../../../devices/_common/float1.xml" />
	<import resource="../../../devices/_common/float2.xml" />
	<import resource="../../../devices/_common/float3.xml" />
	<import resource="../../../devices/_common/float4.xml" />

	<import resource="../../../devices/_common/optics_hutch4_shutter.xml" />

	<!-- end of internal building/ start of external building -->
	<import resource="../../../devices/_common/qcm.xml" />
	
	<import resource="../../../devices/_common/s4.xml" />
	<import resource="../../../devices/_common/s5.xml" />

	<import resource="../../../devices/_common/m2.xml"/>
	<!-- <import resource="../../../devices/_common/pin.xml"/> -->
 	<import resource="../../../devices/_common/diff.xml"/>
	<import resource="../../../devices/_common/s6.xml" />
	<!-- <import resource="../../../devices/_common/dcm.xml" /> -->

	<import resource="../../../devices/_common/sample_stage_t1.xml" />
	<import resource="../../../devices/_common/ion_chamber.xml" />
	<!-- <import resource="../../../devices/_common/g1.xml" /> -->
	<import resource="../../../devices/_common/sample_stage_camera.xml" />
	<import resource="../../../devices/_common/s7.xml" />

	<import resource="../../../devices/_common/scope1.xml" />

	<!--  dummy motors for testing tomoscan  -->
	<import resource="../../../devices/_common/tomoscan_dummies.xml" />

	<import resource="../../../devices/_common/dummyAD.xml" />

<!-- Not present: -->
<!-- 	<import resource="../../../devices/_common/s3.xml" />
	<import resource="../../../devices/_common/diff1.xml" />
	<import resource="../../../devices/_common/t1.xml" />
	<import resource="../../../devices/_common/z1.xml" /> 
 -->

	<import resource="../../../devices/_common/t1_vac.xml" />
	<import resource="../../../devices/_common/t2.xml" />

	<import resource="../../../devices/_common/pco1.xml" />
	<import resource="../../../devices/_common/merlin.xml" />
	
	<import resource="../../../devices/_common/maxipix.xml" />

	<!-- This is no longer present - T2 now contains beamstop but not the detector xyz motors -->
	<!-- <import resource="../../../devices/_common/detector_stage_t2.xml" /> -->
	
	<import resource="../../../devices/_common/diffractometer.xml" />
	
	<import resource="../../../devices/_common/afg.xml"/>

	<!-- <import resource="../../../devices/_common/mll.xml"/> -->

	<!-- end of device list -->

 	<import resource="dataFileMonitor.xml" />
 	<import resource="dataFileWriter.xml" />
 	<import resource="rcpController.xml" />
	
	<!-- See uk.ac.gda.exafs.ui.detector.DetectorEditor.EXAFS_SCRIPT_OBSERVER-->
	<bean id="ExafsScriptObserver" class="gda.jython.scriptcontroller.ScriptControllerBase" />

	<!-- See gda.rcp.views.dashboard.SimpleScannableObject.DASHBOARD_OBSERVER -->
	<bean id="DashboardObserver" class="gda.jython.scriptcontroller.ScriptControllerBase" />
		
	<!-- corba export must be the final bean. Later beans are not exported via Corba -->
	<corba:export namespace="${gda.factory.factoryName}" />

</beans>

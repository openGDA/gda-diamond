<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
				http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd
			http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
			http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
			http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
			http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
	<description>
		Devices used by the MultiLayer Laue Microsope from NLS
	</description>
	<bean id="mll_mca_epicsdevice" class="gda.spring.FindableEpicsDeviceFactoryBean">
		<property name="recordPvs">
			<map>
				<entry key="Record" value="MLL:DXP:mca" />
			</map>
		</property>
		<property name="dummyMode" value="${gda.dummy.mode}"></property>
		<property name="local" value="true"/>
	</bean>

	<bean id="mll_mca" class="gda.device.detector.analyser.EpicsMCASimple">
		<property name="epicsDevice" ref="mll_mca_epicsdevice" />
		<property name="local" value="true"/>
		<property name="readingDoneIfNotAquiring" value="true"/>
	</bean>

	<bean id="mll_blade_scaler1_epicsdevice" class="gda.spring.FindableEpicsDeviceFactoryBean">
		<property name="recordPvs">
			<map>
				<entry key="Record" value="MLL:Blade:Scaler1" />
			</map>
		</property>
		<property name="dummyMode" value="${gda.dummy.mode}"></property>
		<property name="local" value="true"/>
	</bean>
	<util:list id="mll_scaler_channel_list" value-type="java.lang.Integer">
		<value>1</value>
		<value>2</value>
		<value>3</value>
		<value>4</value>
		<value>5</value>
		<value>6</value>
		<value>7</value>
		<value>8</value>
		<value>9</value>
		<value>10</value>
		<value>11</value>
		<value>12</value>
		<value>13</value>
		<value>14</value>
		<value>15</value>
		<value>16</value>
	</util:list>
	<util:list id="mll_scaler_names_list" value-type="java.lang.String">
		<value>1</value>
		<value>2</value>
		<value>3</value>
		<value>4</value>
		<value>5</value>
		<value>6</value>
		<value>7</value>
		<value>8</value>
		<value>9</value>
		<value>10</value>
		<value>11</value>
		<value>12</value>
		<value>13</value>
		<value>14</value>
		<value>15</value>
		<value>16</value>
	</util:list>
	<!-- must have 1 more outputFormat for the exposure time -->
	<util:list id="mll_scaler_outputFormat_list" value-type="java.lang.String">
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
		<value>%5.5g</value>
	</util:list>
	<bean id="mll_blade_scaler1" class="gda.device.detector.EpicsScalerSimple">
		<property name="epicsDevice" ref="mll_blade_scaler1_epicsdevice" />
		<property name="channelsToBeRead" ref="mll_scaler_channel_list" />
		<property name="extraNames" ref="mll_scaler_names_list" />
		<property name="outputFormat" ref="mll_scaler_outputFormat_list" />
		<property name="local" value="true"/>
	</bean>
	<bean id="mll_blade_scaler2_epicsdevice" class="gda.spring.FindableEpicsDeviceFactoryBean">
		<property name="recordPvs">
			<map>
				<entry key="Record" value="MLL:Blade:Scaler2" />
			</map>
		</property>
		<property name="dummyMode" value="${gda.dummy.mode}"></property>
		<property name="local" value="true"/>
	</bean>
	<bean id="mll_blade_scaler2" class="gda.device.detector.EpicsScalerSimple">
		<property name="epicsDevice" ref="mll_blade_scaler2_epicsdevice" />
		<property name="channelsToBeRead" ref="mll_scaler_channel_list" />
		<property name="extraNames" ref="mll_scaler_names_list" />
		<property name="outputFormat" ref="mll_scaler_outputFormat_list" />
		<property name="local" value="true"/>
	</bean>
	
	<bean id="mll_tfg" class="gda.device.timer.DummyTfg">
		<!--  for gui to acquire data set local = false -->
		<property name="local" value="false"/>
	</bean>
	
<!-- 	<bean id="mll_xmap" class="gda.device.detector.xmap.XmapDetectorFromEpicsMca">
		<property name="configFileName"
			value="${gda.var}/templates/Vortex_Parameters.xml" />
		<property name="analysers">
			<list>
				<ref bean="mll_mca" />
			</list>
		</property>
		 for gui to acquire data set local = false
		<property name="local" value="false"/>
		<property name="useLiveTime" value="true"/>
		<property name="readConfigFromDeviceAtScanStart" value="true"/>
		<property name="prefixExtraNameWithDetElement" value="false"/>
		<property name="useConfigFileAtConfigure" value="false"/>
	</bean>	
 -->
	<bean id="mll_dxp_presetMode" class="gda.device.scannable.EpicsScannable">
		<property name="useNameAsInputName" value="true" />
		<property name="hasUnits" value="false" />
		<property name="pvProvider">
			<bean class="gda.device.detector.areadetector.v17.impl.SimplePVProvider">
				<property name="prefix" value="MLL:DXP:PresetMode" />
			</bean>	
		</property>
	</bean>

</beans> 
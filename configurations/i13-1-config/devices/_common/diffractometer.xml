<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
			    http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd
                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">


	<bean id="eta" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="eta_motor" />
		<property name="userUnits" value="deg" />
	</bean>
	<bean id="chi" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="chi_motor" />
		<property name="userUnits" value="deg" />
	</bean>
	<bean id="phi" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="phi_motor" />
		<property name="userUnits" value="deg" />
	</bean>
	<bean id="delta" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="delta_motor" />
		<property name="userUnits" value="deg" />
	</bean>
	<bean id="gamma" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="gamma_motor" />
		<property name="userUnits" value="deg" />
	</bean>

	<bean id="_fivec" class="gda.device.scannable.scannablegroup.ScannableGroup">
		<property name="groupMembers">
			<list>
				<ref bean="delta" />
				<ref bean="gamma" />
				<ref bean="eta" />
				<ref bean="chi" />
				<ref bean="phi" />
			</list>
		</property>
	</bean>
	
	
	
	<bean id="fivecKthMotor" class="gda.device.motor.EpicsMotor">
		<property name="pvName" value="BL13J-MO-RCELL-01:KTHETA.VAL" />
		<property name="local" value="true" />
		<property name="assertHomedBeforeMoving" value="false" />
	</bean>
	<bean id="fivecKappaMotor" class="gda.device.motor.EpicsMotor">
		<property name="pvName" value="BL13J-MO-RCELL-01:KKAPPA.VAL" />
		<property name="local" value="true" />
		<property name="assertHomedBeforeMoving" value="false" />
	</bean>
	<bean id="fivecKphiMotor" class="gda.device.motor.EpicsMotor">
		<property name="pvName" value="BL13J-MO-RCELL-01:KPHI.VAL" />
		<property name="local" value="true" />
		<property name="assertHomedBeforeMoving" value="false" />
	</bean>
	
	
	<bean id="kphi" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="fivecKphiMotor" />
		<property name="isBusyThrowsExceptionWhenMotorGoesIntoFault" value="true"/>
		<property name="returnDemandPosition" value="true" />
		<property name="demandPositionTolerance" value=".01" />
		<property name="logMoveRequestsWithInfo" value="true" />
	</bean>
	<bean id="kap" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="fivecKappaMotor" />
		<property name="isBusyThrowsExceptionWhenMotorGoesIntoFault" value="true"/>
		<property name="returnDemandPosition" value="true" />
		<property name="demandPositionTolerance" value=".01" />
		<property name="outputFormat" value="%.5f" />
		<property name="logMoveRequestsWithInfo" value="true" />
	</bean>
	<bean id="kth" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="fivecKthMotor" />
		<property name="isBusyThrowsExceptionWhenMotorGoesIntoFault" value="true"/>
		<property name="returnDemandPosition" value="true" />
		<property name="demandPositionTolerance" value=".01" />
		<property name="outputFormat" value="%.5f" />
		<property name="logMoveRequestsWithInfo" value="true" />
	</bean>
	
	<bean id="rcellDeferFlag" class="gda.device.controlpoint.EpicsControlPoint">
		<property name="pvNameSetPoint" value="BL13J-MO-RCELL-01:DEFERRED" />
		<property name="pvNameGetPoint" value="BL13J-MO-RCELL-01:DEFERRED" />
		<property name="local" value="true" />
	</bean>
	
	<bean id="rcellEpicsTrajScanController"
		class="gda.device.continuouscontroller.EpicsTrajectoryScanController">
		<property name="deviceName" value="TRAJ" />
		<property name="local" value="true" />
		<property name="maximumNumberElements" value="2000" />
		<property name="maximumNumberPulses" value="20000" />
	</bean>
	<bean id="rcellTrajController"
		class="gda.device.continuouscontroller.EpicsTrajectoryMoveControllerAdapter">
		<property name="controller" ref="rcellEpicsTrajScanController" />
		
		<property name="axisNames">
			<list>
				<value>kphi</value>
				<value>kap</value>
				<value>kth</value>
			</list>
		</property>
		<property name="axisMotorOrder">
			<list>
				<value>3</value>
				<value>2</value>
				<value>1</value>
			</list>
		</property>
		<property name="local" value="true" />
		
	</bean>
	
	<bean id="fivec_deferred" class="gda.device.scannable.scannablegroup.DeferredAndTrajectoryScannableGroup">
		<property name="groupMembers">
			<list>
				<ref bean="kphi" />
				<ref bean="kap" />
				<ref bean="kth" />
			</list>
		</property>

		<!-- <property name="additionalPositionValidators" ref="sixc_additional_position_validators"/> -->

		<property name="deferredControlPoint" ref="rcellDeferFlag" />

		<property name="continuousMoveController" ref="rcellTrajController" />

		<property name="logDefFlagChangesAsInfo" value="true" />

	</bean>
	

</beans>


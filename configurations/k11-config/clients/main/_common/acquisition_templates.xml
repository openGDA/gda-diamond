<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	
	<bean id="diffractionTemplate" class="uk.ac.gda.client.properties.acquisition.AcquisitionTemplate">
		<property name="type" value="DIFFRACTION" />
		<property name="subType" value="STANDARD" />
		<property name="engine">
			<bean class="uk.ac.gda.api.acquisition.AcquisitionEngineDocument">
				<property name="type" value="MALCOLM" />
				<property name="id" ref="diffractionMalcolmMri" /> <!-- mode-specific -->
			</bean>
		</property>
		<property name="detectors">
			<list><value>PILATUS</value></list>
		</property>
		<property name="defaultPaths">
			<list>
				<bean class="uk.ac.diamond.daq.mapping.api.document.scanpath.ScannableTrackDocument">
					<constructor-arg name="scannable" ref="diffractionXScannable" /> <!-- mode-specific -->
					<constructor-arg name="axis" value="x" />
					<constructor-arg name="start" value="0" />
					<constructor-arg name="stop" value="10" />
					<constructor-arg name="step" value="10" />
					<constructor-arg name="points" value="0" />
				</bean>
				<bean class="uk.ac.diamond.daq.mapping.api.document.scanpath.ScannableTrackDocument">
					<constructor-arg name="scannable" ref="diffractionYScannable" /> <!-- mode-specific -->
					<constructor-arg name="axis" value="y" />
					<constructor-arg name="start" value="0" />
					<constructor-arg name="stop" value="10" />
					<constructor-arg name="step" value="10" />
					<constructor-arg name="points" value="0" />
				</bean>
			</list>
		</property>
		<property name="processingProperties">
			<bean class="uk.ac.gda.client.properties.acquisition.processing.ProcessingRequestProperties">
				<property name="frameCapture">
					<bean class="uk.ac.gda.client.properties.acquisition.processing.FrameCaptureProperties">
						<property name="malcolm" ref="imagingMalcolmMri" />
						<property name="malcolmDetectorName" value="IMAGING" />
						<property name="cameraId" value="PCO_CAMERA" />
					</bean>
				</property>
			</bean>
		</property>
		
		<property name="startPosition">
			<list>
				<ref bean="shutter_open" />
			</list>
		</property>
	</bean>
	
	
	<bean id="beamSelectorTemplate" class="uk.ac.gda.client.properties.acquisition.AcquisitionTemplate">
		<property name="type" value="DIFFRACTION" />
		<property name="subType" value="BEAM_SELECTOR" />
		<property name="engine">
			<bean class="uk.ac.gda.api.acquisition.AcquisitionEngineDocument">
				<property name="type" value="MALCOLM" />
				<property name="id" ref="beamSelectorMonoMalcolmMri" />
			</bean>
		</property>
		<property name="detectors">
			<list>
				<value>PILATUS</value>
				<value>PCO_CAMERA</value>
			</list>
		</property>		
		<property name="defaultPaths">
			<list>
				<bean class="uk.ac.diamond.daq.mapping.api.document.scanpath.ScannableTrackDocument">
					<constructor-arg name="scannable"><null/></constructor-arg>
					<constructor-arg name="axis"><null/></constructor-arg>
					<constructor-arg name="start" value="0" />
					<constructor-arg name="stop" value="0" />
					<constructor-arg name="step" value="0" />
					<constructor-arg name="points" value="100" />
				</bean>
			</list>
		</property>
		
		<property name="startPosition">
			<list>
				<ref bean="shutter_open" />
			</list>
		</property>
	</bean>
	
	
	<bean id="tomographyTemplate" class="uk.ac.gda.client.properties.acquisition.AcquisitionTemplate">
		<property name="type" value="TOMOGRAPHY" />
		<property name="subType" value="STANDARD" />
		<property name="engine">
			<bean class="uk.ac.gda.api.acquisition.AcquisitionEngineDocument">
				<property name="type" value="MALCOLM" />
				<property name="id" ref="imagingMalcolmMri" />
			</bean>
		</property>
		<property name="detectors">
			<list><value>PCO_CAMERA</value></list>
		</property>
		<property name="defaultPaths">
			<list>
				<bean class="uk.ac.diamond.daq.mapping.api.document.scanpath.ScannableTrackDocument">
					<constructor-arg name="scannable" ref="tomographyThetaScannable" /> <!-- mode-specific -->
					<constructor-arg name="axis" value="theta" />
					<constructor-arg name="start" value="0" />
					<constructor-arg name="stop" value="180" />
					<constructor-arg name="step" value="0" />
					<constructor-arg name="points" value="100" />
				</bean>
			</list>
		</property>
		
		<property name="startPosition">
			<list>
				<ref bean="shutter_open" />
				<ref bean="basex_gts" />
			</list>
		</property>
		
	</bean>
	
	<bean id="radiographyTemplate" class="uk.ac.gda.client.properties.acquisition.AcquisitionTemplate">
		<property name="type" value="TOMOGRAPHY" />
		<property name="subType" value="RADIOGRAPHY" />
		<property name="engine">
			<bean class="uk.ac.gda.api.acquisition.AcquisitionEngineDocument">
				<property name="type" value="MALCOLM" />
				<property name="id" ref="imagingMalcolmMri" />
			</bean>
		</property>
		<property name="detectors">
			<list><value>PCO_CAMERA</value></list>
		</property>
		<property name="defaultPaths">
			<list>
				<bean class="uk.ac.diamond.daq.mapping.api.document.scanpath.ScannableTrackDocument">
					<constructor-arg name="scannable"><null/></constructor-arg>
					<constructor-arg name="axis"><null/></constructor-arg>
					<constructor-arg name="start" value="0" />
					<constructor-arg name="stop" value="0" />
					<constructor-arg name="step" value="0" />
					<constructor-arg name="points" value="1" />
				</bean>
			</list>
		</property>
		
		<property name="startPosition">
			<list>
				<ref bean="shutter_open" />
				<ref bean="basex_gts" />
			</list>
		</property>
		
	</bean>
	
	<bean id="acquisitionManager" class="uk.ac.gda.client.AcquisitionManager" >
		<constructor-arg>
			<list>
				<ref bean="diffractionTemplate" />
				<ref bean="beamSelectorTemplate" />
				<ref bean="tomographyTemplate" />
				<ref bean="radiographyTemplate" />
			</list>
		</constructor-arg>
	</bean>
	
	
	<!-- positions -->
	<bean id="shutter_open" class="uk.ac.gda.client.properties.stage.position.ScannablePropertiesValue">
		<property name="scannableKeys">
			<bean class="uk.ac.gda.client.properties.stage.position.ScannableKeys">
				<property name="groupId" value="shutter" />
				<property name="scannableId" value="shutter" />
			</bean>
		</property>
		<property name="labelledPosition" value="OPEN" />
	</bean>
	
	<bean id="basex_gts" class="uk.ac.gda.client.properties.stage.position.ScannablePropertiesValue">
		<property name="scannableKeys">
			<bean class="uk.ac.gda.client.properties.stage.position.ScannableKeys">
				<property name="groupId" value="base_x" />
				<property name="scannableId" value="selector" />
			</bean>
		</property>
		<property name="labelledPosition" value="GTS" />
	</bean>

</beans>

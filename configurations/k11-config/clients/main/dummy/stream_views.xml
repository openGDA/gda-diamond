<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">


	<!-- Extract workstation name from localhost and use to construct base PV 
		name -->
	<bean id="localhostname" class="java.net.InetAddress"
		factory-method="getLocalHost" />
	<bean id="workstation" class="java.lang.String">
		<constructor-arg
			value="#{ localhostname.hostName.split('\.')[0] }" />
	</bean>
	<bean id="sim_pvbase" class="java.lang.String">
		<constructor-arg value="#{workstation}-AD-SIM-01" />
	</bean>

	<bean id="d1_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D1" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>
	
	<bean id="d2_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D2" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

	<bean id="d3_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D3" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

	<bean id="d10_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D10" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

	<bean id="d11_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D11" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

	<bean id="d4_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="D4" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

    <bean id="displayPixelNumberOnAxes" class="uk.ac.gda.client.live.stream.calibration.PixelCalibration"/>
	<bean id="pco_cam_config"
		class="uk.ac.gda.client.live.stream.simulator.connector.BeamSimulationCamera">
		<property name="displayName" value="Imaging Camera" />
		<property name="arrayPv" value="gdaSimulator:BeamSimulationCamera" />
		<property name="calibratedAxesProvider" ref="displayPixelNumberOnAxes"/>
		
		<!-- In the simulation, represent camera array X size -->
		<property name="cameraWidth" value="1280"/>
		<!-- In the simulation, represent camera array Y size -->
		<property name="cameraHeight" value="960"/>
		
		<property name="driverX" value="kb_x"/>
		<!-- In the simulation, represent the ratio between kbX position with with offset to pixel camera zero -->
		<property name="scaleX" value="100"/>
		
		<property name="driverY" value="kb_y"/>
		<!-- In the simulation, represent the ratio between kbX position with with offset to pixel camera zero -->
		<property name="scaleY" value="100"/>
	</bean>

	<bean id="pilatus_cam_config"
		class="uk.ac.gda.client.live.stream.view.CameraConfiguration">
		<property name="displayName" value="Diffraction Camera" />
		<property name="arrayPv" value="#{sim_pvbase}:ARR" />
	</bean>

	<bean id="kb_x" class="uk.ac.gda.remoting.client.GdaRmiProxy" />
	<bean id="kb_y" class="uk.ac.gda.remoting.client.GdaRmiProxy" />
	<bean id="beam_position_calibration"
		class="uk.ac.gda.client.live.stream.calibration.BeamPositionCalibration">
		<constructor-arg name="xAxisScannable" ref="kb_x" />
		<constructor-arg name="yAxisScannable" ref="kb_y" />
		<constructor-arg name="xAxisPixelScaling"
			value="0.002" />
		<constructor-arg name="yAxisPixelScaling"
			value="0.002" />
		<constructor-arg name="xAxisBeamPositionInPixels"
			value="640" />
		<constructor-arg name="yAxisBeamPositionInPixels"
			value="480" />
		<constructor-arg name="attemptToLoadLocalParameters"
			value="true" />
	</bean>



</beans>

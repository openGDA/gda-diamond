client.host = ws157

#Defines the tomography perspective main stage devices
tomography.main.motor.linear.x = simx
tomography.main.motor.linear.y = simy
tomography.main.motor.linear.z = simz
tomography.main.motor.rot.y = simtheta

# --- Custom dummy AcquisitionTypeProperties ----
# OLD ACQUISITION TYPE - DEPRECATED
acquisition.tomography.one_dimension_line.0.scannable = simtheta
acquisition.tomography.one_dimension_line.0.axis = theta
# OLD ACQUISITION TYPE - DEPRECATED
acquisition.diffraction.two_dimension_point.0.scannable = simx
acquisition.diffraction.two_dimension_point.0.axis = x
acquisition.diffraction.two_dimension_point.1.scannable = simy
acquisition.diffraction.two_dimension_point.1.axis = y
# OLD ACQUISITION TYPE - DEPRECATED
acquisition.diffraction.two_dimension_line.0.scannable = simx
acquisition.diffraction.two_dimension_line.0.axis = x
acquisition.diffraction.two_dimension_line.1.scannable = simy
acquisition.diffraction.two_dimension_line.1.axis = y
# OLD ACQUISITION TYPE - DEPRECATED
acquisition.diffraction.two_dimension_grid.0.scannable = simx
acquisition.diffraction.two_dimension_grid.0.axis = x
acquisition.diffraction.two_dimension_grid.1.scannable = simy
acquisition.diffraction.two_dimension_grid.1.axis = y

# ----- Specific configuration for dummy ----
client.cameras[0].cameraToBeamMap.map = [ [ 0.001\, 0.00 ]\, [ 0.00\, 0.001 ] ] 
client.cameras[0].cameraToBeamMap.offset = [ -2.0\, -3.0 ]
client.cameras[0].cameraToBeamMap.driver = simx\, simy
client.cameras[0].cameraToBeamMap.active = true
# The dummy readout is still not zero, while the live is zero, because the two malcolm (dummy/live) as different
client.cameras[0].readoutTime=0.002
client.cameras[0].malcolmDetectorName=IMAGING
# We use the label INTERNAL as it look more widely used than PCO's AUTO. Anyway the label is for keys are for internal purpose only
client.cameras[0].triggerMode.INTERNAL = 0

client.cameras[1].malcolmDetectorName=DIFFRACTION
client.cameras[1].gdaDetectorName=sim
# The dummy readout is still not zero, while the live is zero, because the two malcolm (dummy/live) as different
client.cameras[1].readoutTime=0.002

#------- ACQUISITIONS -------
# ACQUISITION.DIFFRACTION
# Malcolm blocks of K11, for dummy, are different (+10) compared to the standard one (K11-1247)
client.acquisitions[0].engine.id=${client.host}-ML-SCAN-11
# ACQUISITION.DIFFRACTION.POINT 
client.acquisitions[0].templates[0].tracks[0].scannable = simx
client.acquisitions[0].templates[0].tracks[0].axis = x
client.acquisitions[0].templates[0].tracks[1].scannable = simy
client.acquisitions[0].templates[0].tracks[1].axis = y
# ACQUISITION.DIFFRACTION.LINE
client.acquisitions[0].templates[1].tracks[0].scannable = simx
client.acquisitions[0].templates[1].tracks[0].axis = x
client.acquisitions[0].templates[1].tracks[1].scannable = simy
client.acquisitions[0].templates[1].tracks[1].axis = y
# ACQUISITION.DIFFRACTION.GRID
client.acquisitions[0].templates[2].tracks[0].scannable = simx
client.acquisitions[0].templates[2].tracks[0].axis = x
client.acquisitions[0].templates[2].tracks[1].scannable = simy
client.acquisitions[0].templates[2].tracks[1].axis = y
client.acquisitions[0].nexusNodeCopyAppender=diffraction_calibration_appender

# ACQUISITION.IMAGING
# Malcolm blocks of K11, for dummy, are different (+10) compared to the standard one (K11-1247)
client.acquisitions[1].engine.id=${client.host}-ML-SCAN-12
# ACQUISITION.IMAGING.LINE
client.acquisitions[1].templates[0].tracks[0].scannable = simtheta
client.acquisitions[1].templates[0].tracks[0].axis = theta
client.acquisitions[1].templates[0].tracks[0].points = 10
client.acquisitions[1].templates[0].tracks[0].start = 0
client.acquisitions[1].templates[0].tracks[0].stop = 180
# This line is commented as the nexus file is correctly found and has the entries like in the dummy acquisition
# However throws an exception
# 2021-05-06 18:02:47,545 DEBUG org.eclipse.dawnsci.nexus.context.impl.AbstractInMemoryNexusContext - Linking node '/entry/IMAGING/simtheta' with name 'rotation_angle' to parent '//entry1/tomo_entry/sample/' [Consumer Thread Scan Consumer]
# HDF5-DIAG: Error detected in HDF5 (1.10.5) thread 139764737787648:
#  #000: ../../src/H5G.c line 323 in H5Gcreate2(): unable to create group
#client.acquisitions[1].nexusTemplates = file:${gda.config}/clients/main/dummy/dummy_tomo_entry_template.yaml
client.acquisitions[1].outOfBeamScannables = simx\, simy\, simz

# ACQUISITION.IMAGING
# Malcolm blocks of K11, for dummy, are different (+10) compared to the standard one (K11-1247)
client.acquisitions[2].engine.id=${client.host}-ML-SCAN-13
#------- ACQUISITIONS -------


# Specific configuration for GTS scannableGroup
client.scannableGroups[0].scannables[0].scannable = simx
client.scannableGroups[0].scannables[1].scannable = simz
client.scannableGroups[0].scannables[2].scannable = simtheta
client.scannableGroups[0].scannables[3].scannable = simy

client.rest.gda.service.endpoint = http://127.0.0.1:8888

# ----- Specific configuration for dummy ----
client.cameras[0].cameraToBeamMap.map = [ [ 1.0\, 2.0 ]\, [ 3.0\, 4.0 ] ]
client.cameras[0].cameraToBeamMap.driver[0] = simx
client.cameras[0].cameraToBeamMap.driver[1] = simy
client.cameras[0].cameraToBeamMap.active = true


#Add all dummy mode beamline specific keys before this line
include = ../_common/common_instance_java.properties
#Do not set any keys after this line as the value may not get set as expected.

#gda.function.columnDataFile.lookupDir = 

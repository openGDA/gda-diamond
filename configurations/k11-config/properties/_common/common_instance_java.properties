# Beamline-specific properties - overriding values set in core-config and dls-config

gda.beamline.name = k11
gda.instrument = ${gda.beamline.name}

gda.scan.concurrentScan.readoutConcurrently = true

gda.gui.window.start.width = 1920
gda.gui.window.start.height = 1200

gda.factory.allowExceptionInConfigure = True

gda.data.numtracker = ${gda.var}

gda.users.scripts.dir = /dls_sw/${gda.beamline.name}/scripts
gda.function.columnDataFile.lookupDir = ${gda.config}/lookupTables

# NexusDataWriter is for gda 8 scans only
gda.data.scan.datawriter.dataFormat = NexusDataWriter
gda.data.filePrefix = ${gda.beamline.name}-
gda.nexus.beamlinePrefix = true
gda.nexus.createSRS = false

gda.epics.beamline.name   = BL11K
gda.epics.request.timeout = 5.0

gda.accesscontrol.useAccessControl = false
gda.accesscontrol.useBatonControl = false

gda.scan.sets.scannumber = true

gda.nexus.instrumentApi = true

uk.ac.gda.client.defaultUnits = µm


client.cameras[0].configuration = pco_cam_config
client.cameras[0].name = Imaging Camera
client.cameras[0].id = PCO_CAMERA
client.cameras[0].cameraControl = imaging_camera_control
client.cameras[0].withMonitor = true
client.cameras[0].pixelBinningEditable = true
# configured in live/dummy
# client.cameraConfiguration.0.readoutTime=0.00005
client.cameras[0].motors[0].controller = pco_x
client.cameras[0].motors[0].name = X
client.cameras[0].motors[1].controller = pco_z
client.cameras[0].motors[1].name = Z

client.cameras[1].configuration = pilatus_cam_config
client.cameras[1].name=Diffraction Camera
client.cameras[1].id=PILATUS
client.cameras[1].cameraControl=diffraction_camera_control
client.cameras[1].pixelBinningEditable = true
client.cameras[1].withMonitor = true
client.cameras[1].motor[0].controller = pilatus_position
client.cameras[1].motor[0].name = Position

client.cameras[2].configuration=d1_cam_config
client.cameras[2].name=Diagnostic Camera 1
client.cameras[2].cameraControl=d1_camera_control
client.cameras[2].motor[0].controller = d1_position
client.cameras[2].motor[0].name = Stick Y

client.cameras[3].configuration=d2_cam_config
client.cameras[3].name=Diagnostic Camera 2
client.cameras[3].cameraControl=d2_camera_control
client.cameras[3].motor[0].controller = d2_position
client.cameras[3].motor[0].name = Positioner

client.cameras[4].configuration=d3_cam_config
client.cameras[4].name=Diagnostic Camera 3
client.cameras[4].cameraControl=d3_camera_control

client.cameras[5].configuration=d4_cam_config
client.cameras[5].name=Diagnostic Camera 4
client.cameras[5].cameraControl=d4_camera_control

client.cameras[6].configuration=dbsel_cam_config
client.cameras[6].name=Beam Selector Diagnostic Camera
client.cameras[6].cameraControl=dbsel_camera_control

client.cameras[7].configuration=d11_cam_config
client.cameras[7].name=Diagnostic Camera 11
client.cameras[7].cameraControl=d11_camera_control

client.cameras[8].configuration=d13_cam_config
client.cameras[8].name=Diagnostic Camera 13
client.cameras[8].cameraControl=d13_camera_control

client.cameras[9].configuration=d14_cam_config
client.cameras[9].name=Diagnostic Camera 14
client.cameras[9].cameraControl=d14_camera_control

client.cameras[10].configuration=d15_cam_config
client.cameras[10].name=Diagnostic Camera 15
client.cameras[10].cameraControl=d15_camera_control

# calibration section
#client.diffraction.calibration.cameraConfigurationID=PCO_CAMERA

client.beam.position.driverX=kb_x
client.beam.position.driverY=kb_y

imagingCameraView.id=PCO_CAMERA

tomography.tr6.motor.linear.y = tr6_y
tomography.tr6.motor.rot.y = tr6_rot

uk.ac.diamond.persistence.manager.enabled=false

experiment.structure.job.request.topic = uk.ac.diamond.daq.experiment.structure.job.request.topic
experiment.structure.job.response.topic = uk.ac.diamond.daq.experiment.structure.job.response.topic

# acquisitions section
client.acquisition.0=Diffraction engine
client.acquisition.0.type = DIFFRACTION
client.acquisition.0.engine.id=${client.host}-ML-SCAN-01
client.acquisition.0.engine.type=MALCOLM
client.acquisition.0.detectors=PILATUS

client.acquisition.1=Tomography engine
client.acquisition.1.type = TOMOGRAPHY
client.acquisition.1.engine.id=${client.host}-ML-SCAN-02
client.acquisition.1.engine.type=MALCOLM
client.acquisition.1.detectors=PCO_CAMERA
# configured in live/dummy
#client.acquisition.1.out_of_beam=gts_x, gts_y, gts_z

client.acquisition.2=Beam Selector Scan
client.acquisition.2.type = BEAM_SELECTOR
client.acquisition.2.engine.id=${client.host}-ML-SCAN-03
client.acquisition.2.engine.type=MALCOLM
client.acquisition.2.detectors=PILATUS, PCO_CAMERA

# ---GTS ----
client.scannableGroup.0=GTS
client.scannableGroup.0.id=GTS
client.scannableGroup.0.label=GTS
client.scannableGroup.0.scannable.0=x
client.scannableGroup.0.scannable.0.id=X
client.scannableGroup.0.scannable.0.label=AXIS_X
# configured in live/dummy
#client.scannableGroup.0.scannable.0.scannable=gts_x

client.scannableGroup.0.scannable.1=z
client.scannableGroup.0.scannable.1.id=Z
client.scannableGroup.0.scannable.1.label=AXIS_Z
# configured in live/dummy
#client.scannableGroup.0.scannable.1.scannable=gts_z

client.scannableGroup.0.scannable.2=theta
client.scannableGroup.0.scannable.2.id=THETA
client.scannableGroup.0.scannable.2.label=AXIS_THETA
# configured in live/dummy
#client.scannableGroup.0.scannable.2.scannable=sim_theta

client.scannableGroup.0.scannable.3=y
client.scannableGroup.0.scannable.3.id=Y
client.scannableGroup.0.scannable.3.label=AXIS_Y
# configured in live/dummy
#client.scannableGroup.0.scannable.3.scannable=gts_y


# --- Common AcquisitionTypeProperties ----
acquisition.tomography.one_dimension_line.0.points = 10

acquisition.diffraction.two_dimension_line.0.points = 5
acquisition.diffraction.two_dimension_line.1.points = 5

acquisition.diffraction.two_dimension_grid.0.points = 5
acquisition.diffraction.two_dimension_grid.1.points = 5


# ---SHUTTER ----
client.scannableGroup.1=SHUTTER
client.scannableGroup.1.id=shutter
client.scannableGroup.1.label=Shutter
client.scannableGroup.1.scannable.0=shutter
client.scannableGroup.1.scannable.0.id=shutter
client.scannableGroup.1.scannable.0.enums=OPEN:Open,CLOSE:Close,RESET:Reset,CLOSED:Closed
client.scannableGroup.1.scannable.0.scannable=eh_shutter
client.scannableGroup.1.scannable.0.label=Shutter


# ---BEAM SELECTOR ----
client.scannableGroup.2=BEAM_SELECTOR
client.scannableGroup.2.id=beam_selector
client.scannableGroup.2.label=Beam Selector
client.scannableGroup.2.scannable.0=x
client.scannableGroup.2.scannable.0.id=selector
client.scannableGroup.2.scannable.0.scannable=beam_selector
client.scannableGroup.2.scannable.0.enums=MONO:Mono imaging beam,PINK:pink,DIFF:Diffraction
client.scannableGroup.2.scannable.0.label=Beam Selector

#Add all beamline specific keys before this line
include=${sys:gda.facility.dir}/properties/${sys:gda.mode}/${sys:gda.mode}_facility_java.properties
#Do not set any keys after this line as the value may not get set as expected.

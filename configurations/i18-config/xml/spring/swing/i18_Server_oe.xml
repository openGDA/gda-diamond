<?xml version="1.0" encoding="UTF-8"?>
<ObjectFactory>
	<name>${gda.factory.factoryName}</name>

	<!-- ************************ -->
	<!-- *** Optical Elements *** -->
	<!-- ************************ -->

	
	<!-- Insertion Device -->
	<GenericOE>
		<name>ID</name>
		<LinearPositioner>
			<name>idgap_positioner</name>
			<motorName>idgap_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-100</softLimitLow>
			<softLimitHigh>100</softLimitHigh>
			<poll>false</poll>
		</LinearPositioner>
		<EpicsAxisLinearDOF>
			<name>idgap</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>idgap_positioner</moveableName>
		</EpicsAxisLinearDOF>
	</GenericOE>
	
	
	
	
	<!-- Monochromator / DCM Optical Element -->
	<GenericOE>
		<name>DCM</name>
		<AngularPositioner>
			<name>dcm_bragg_positioner</name>
			<motorName>dcm_bragg_motor</motorName>
			<stepsPerUnit>-1</stepsPerUnit>
			<softLimitLow>-6000</softLimitLow>
			<softLimitHigh>80000</softLimitHigh>
			
		</AngularPositioner>

		<AngularPositioner>
			<name>dcm_crystal1_roll_positioner</name>
			<motorName>dcm_crystal1_roll_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-17.453</softLimitLow>
			<softLimitHigh>17.453</softLimitHigh>
			
		</AngularPositioner>
		<AngularPositioner>
			<name>dcm_crystal2_roll_positioner</name>
			<motorName>dcm_crystal2_roll_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-1.9</softLimitLow>
			<softLimitHigh>7.9</softLimitHigh>
			
		</AngularPositioner>
		<AngularPositioner>
			<name>dcm_crystal2_pitch_positioner</name>
			<motorName>dcm_crystal2_pitch_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-0.9</softLimitLow>
			<softLimitHigh>8.9</softLimitHigh>
		</AngularPositioner>
		<LinearPositioner>
			<name>dcm_perp_positioner</name>
			<motorName>dcm_perp_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-40.0</softLimitLow>
			<softLimitHigh>40.0</softLimitHigh>
		</LinearPositioner>

		<EpicsAxisAngularDOF>
			<name>dcm_bragg</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mDeg</acceptableUnit>
			<moveableName>dcm_bragg_positioner</moveableName>
		</EpicsAxisAngularDOF>

		<EpicsAxisAngularDOF>
			<name>dcm_crystal1_roll</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>dcm_crystal1_roll_positioner</moveableName>
		</EpicsAxisAngularDOF>
		<!--		<EpicsAxisAngularDOF>
			<name>dcm_crystal2_roll</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>dcm_crystal2_roll_positioner</moveableName>
			</EpicsAxisAngularDOF>-->
		<EpicsAxisAngularDOF>
			<name>dcm_crystal2_pitch</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>dcm_crystal2_pitch_positioner</moveableName>
		</EpicsAxisAngularDOF>
		<EpicsAxisLinearDOF>
			<name>dcm_perp</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>dcm_perp_positioner</moveableName>
		</EpicsAxisLinearDOF>

		<MonoDOF>
			<name>dcm_mono</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>dcm_bragg_positioner</moveableName>
			<crystalType>Si111</crystalType>
		</MonoDOF>
	</GenericOE>


	
	
	
	<!--  Sample Stage Optical Element  -->
	<GenericOE>
		<name>MicroFocusSampleStage</name>
		<LinearPositioner>
			<name>sample_z_positioner</name>
			<motorName>sample_z_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-25</softLimitLow>
			<softLimitHigh>75</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</LinearPositioner>
		<AngularPositioner>
			<name>sample_thetacoarse_positioner</name>
			<motorName>sample_thetacoarse_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-45</softLimitLow>
			<softLimitHigh>45</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</AngularPositioner>
		<LinearPositioner>
			<name>sample_x_positioner</name>
			<motorName>sample_x_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-12.5</softLimitLow>
			<softLimitHigh>12.5</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</LinearPositioner>
		<LinearPositioner>
			<name>sample_y1_positioner</name>
			<motorName>sample_y1_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-15</softLimitLow>
			<softLimitHigh>15</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</LinearPositioner>
		<LinearPositioner>
			<name>sample_y2_positioner</name>
			<motorName>sample_y2_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-15</softLimitLow>
			<softLimitHigh>15</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</LinearPositioner>
		<LinearPositioner>
			<name>sample_y3_positioner</name>
			<motorName>sample_y3_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-15</softLimitLow>
			<softLimitHigh>15</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</LinearPositioner>
		<AngularPositioner>
			<name>sample_thetafine_positioner</name>
			<motorName>sample_thetafine_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-360000</softLimitLow>
			<softLimitHigh>360000</softLimitHigh>
			<homeOffset>0.0</homeOffset>
		</AngularPositioner>
		<SingleAxisLinearDOF>
			<name>sample_z</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>sample_z_positioner</moveableName>
		</SingleAxisLinearDOF>
		<SingleAxisAngularDOF>
			<name>sample_thetacoarse</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>Deg</acceptableUnit>
			<moveableName>sample_thetacoarse_positioner</moveableName>
		</SingleAxisAngularDOF>
		<SingleAxisLinearDOF>
			<name>MicroFocusSampleX</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>sample_x_positioner</moveableName>
		</SingleAxisLinearDOF>
		<SingleAxisLinearDOF>
			<name>sample_y1</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>sample_y1_positioner</moveableName>
		</SingleAxisLinearDOF>
		<SingleAxisLinearDOF>
			<name>sample_y2</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>sample_y2_positioner</moveableName>
		</SingleAxisLinearDOF>
		<SingleAxisLinearDOF>
			<name>sample_y3</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>mm</acceptableUnit>
			<moveableName>sample_y3_positioner</moveableName>
		</SingleAxisLinearDOF>
		<SingleAxisAngularDOF>
			<name>sample_thetafine</name>
			<protectionLevel>0</protectionLevel>
			<acceptableUnit>Deg</acceptableUnit>
			<moveableName>sample_thetafine_positioner</moveableName>
		</SingleAxisAngularDOF>
		<CoupledDOF>
			<name>MicroFocusSampleY</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>sample_y1</moveableName>
			<moveableName>sample_y2</moveableName>
			<moveableName>sample_y3</moveableName>
			<IdentityFunction>
				<name>identity1</name>
			</IdentityFunction>
			<IdentityFunction>
				<name>identity2</name>
			</IdentityFunction>
			<IdentityFunction>
				<name>identity3</name>
			</IdentityFunction>
		</CoupledDOF>
		
		<CombinedDOF>
         <name>microfocusXZ</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>sample_z</moveableName>
         <moveableName>sample_xz</moveableName>
         <moveableToReport>sample_z</moveableToReport>
        <evalLowerLimit>true</evalLowerLimit>
         <evalUpperLimit>true</evalUpperLimit>
      </CombinedDOF>
      
      <CombinedDOF>
         <name>sample_xz</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>MicroFocusSampleX</moveableName>
         <converterName>xz_converter</converterName>
         <evalLowerLimit>true</evalLowerLimit>
         <evalUpperLimit>true</evalUpperLimit>
      </CombinedDOF>
	</GenericOE>	
	<!-- Video Microscope (A) Optical Element -->
	<GenericOE>
		<name>VMA</name>
		<LinearPositioner>
			<name>vma_zoom_positioner</name>
			<motorName>vma_zoom_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-10</softLimitLow>
			<softLimitHigh>33970</softLimitHigh>
		</LinearPositioner>
		<LinearPositioner>
			<name>vma_focus_positioner</name>
			<motorName>vma_focus_motor</motorName>
			<stepsPerUnit>1</stepsPerUnit>
			<softLimitLow>-10</softLimitLow>
			<softLimitHigh>11860</softLimitHigh>
		</LinearPositioner>

		<EpicsAxisLinearDOF>
			<name>vma_zoom</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>vma_zoom_positioner</moveableName>
		</EpicsAxisLinearDOF>
		<EpicsAxisLinearDOF>
			<name>vma_focus</name>
			<protectionLevel>0</protectionLevel>
			<moveableName>vma_focus_positioner</moveableName>
		</EpicsAxisLinearDOF>
	</GenericOE>
	<GenericOE>
      <name>ComboDCMController</name>
      <CombinedDOF>
         <name>comboDCM_eV</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>comboDCM_d</moveableName>
         <converterName>eV_mDeg_converter</converterName>
         <softLimitLow>2000</softLimitLow>
         <softLimitHigh>25000</softLimitHigh>
         <evalLowerLimit>false</evalLowerLimit>
         <evalUpperLimit>false</evalUpperLimit>
         <updatePositionFromMoveables>true</updatePositionFromMoveables>
         
      </CombinedDOF>
      <CombinedDOF>
         <name>comboDCM_d</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>DCM.dcm_bragg</moveableName>
         <moveableName>idgap_mDeg</moveableName>
      <moveableName>dcm_perp_mDeg</moveableName> 
        <moveableToReport>dcm_bragg</moveableToReport>
        <softLimitLow>4536.65</softLimitLow>
         <softLimitHigh>81382.25</softLimitHigh>
        <evalLowerLimit>false</evalLowerLimit>
         <evalUpperLimit>false</evalUpperLimit>
      </CombinedDOF>
      <CombinedDOF>
         <name>comboDCM_nogap</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>DCM.dcm_bragg</moveableName>
         <moveableName>dcm_perp_mDeg</moveableName> 
        <moveableToReport>dcm_bragg</moveableToReport>
        <softLimitLow>4536.65</softLimitLow>
         <softLimitHigh>81382.25</softLimitHigh>
        <evalLowerLimit>false</evalLowerLimit>
         <evalUpperLimit>false</evalUpperLimit>
      </CombinedDOF>
      <CombinedDOF>
         <name>idgap_mDeg</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>ID.idgap</moveableName>
         <converterName>auto_mDeg_idGap_mm_converter</converterName>
         <evalLowerLimit>true</evalLowerLimit>
         <evalUpperLimit>true</evalUpperLimit>
      </CombinedDOF>
      
     <CombinedDOF>
         <name>dcm_perp_mDeg</name>
         <protectionLevel>0</protectionLevel>
         <moveableName>DCM.dcm_perp</moveableName>
         <converterName>mDeg_dcm_perp_mm_converter</converterName>
      </CombinedDOF>
      
   </GenericOE>
    
   <!--***************************************-->
</ObjectFactory>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

	<!--*************************************** -->
	<!-- *** NCD devices section *** -->
	<!--*************************************** -->

	<bean id="Tfg" class="gda.device.timer.Etfg">
		<property name="daServerName" value="DAServer" />
		<property name="showArmed" value="true" />
	</bean>
	<bean id="CalibMemory" class="gda.device.memory.Scaler">
		<property name="daServerName" value="DAServer" />
		<property name="width" value="9" />
		<property name="height" value="1" />
		<property name="openCommand" value="tfg open-cc" />
	</bean>
	<bean id="Scalers" class="uk.ac.gda.server.ncd.subdetector.NcdWireDetector">
		<property name="detectorType" value="CALIB" />
		<property name="memory" ref="CalibMemory" />
		<property name="transposedData" value="true" />
	</bean>
	<bean id="TimesMemory" class="gda.device.memory.GdhistTimes">
		<property name="daServerName" value="DAServer" />
		<property name="width" value="8" />
		<property name="height" value="1" />
		<property name="openCommand" value="module open 'tfg_times' header" />
	</bean>
	<bean id="TfgTimes" class="uk.ac.gda.server.ncd.subdetector.NcdTimesDetector">
		<property name="detectorType" value="TIMES" />
		<property name="memory" ref="TimesMemory" />
	</bean>

	<bean id="It" class="uk.ac.gda.server.ncd.subdetector.SingleScalerWithScalingAndOffset">
		<property name="detectorType" value="CALIB" />
		<property name="memory" ref="CalibMemory" />
		<property name="units" value="counts" />
		<property name="channel" value="1" />
		<property name="label" value="data" />
		<property name="scalingAndOffset" ref="bsdiodegain" />
	</bean>

	<bean id="ncddetectors" class="uk.ac.gda.server.ncd.detectorsystem.NcdDetectorSystem">
		<property name="timer" ref="Tfg" />
		<property name="detectors">
			<list>
				<ref bean="Pilatus2M" />
				<ref bean="It" />
				<ref bean="Scalers" />
				<ref bean="TfgTimes" />
			</list>
		</property>
	</bean>

	<bean id="ncdlistener" class="uk.ac.gda.server.ncd.plotting.ListenerDispatcher">
		<property name="ncdDetector" ref="ncddetectors" />
		<property name="energyScannable" ref="energy" />
	</bean>

	<bean id="saxs_mask" class="uk.ac.gda.server.ncd.meta.NcdMaskLink">
		<property name="detectorType" value="SAXS"/>
		<property name="visitMeta" ref="visit"/>
		<property name="configFileName" value="saxs_masks" />
	</bean>
	<bean id="saxs_cal" class="uk.ac.gda.server.ncd.meta.NcdCalibration">
		<property name="detectorType" value="SAXS"/>
		<property name="visitMeta" ref="visit"/>
		<property name="configFileName" value="saxs_masks" />
	</bean>
	<bean id="waxs_mask" class="uk.ac.gda.server.ncd.meta.NcdMaskLink">
		<property name="detectorType" value="WAXS"/>
		<property name="visitMeta" ref="visit"/>
		<property name="configFileName" value="saxs_masks" />
	</bean>
	<bean id="waxs_cal" class="uk.ac.gda.server.ncd.meta.NcdCalibration">
		<property name="detectorType" value="WAXS"/>
		<property name="visitMeta" ref="visit"/>
		<property name="configFileName" value="saxs_masks" />
	</bean>
</beans>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:gda="http://www.diamond.ac.uk/schema/gda/gda"
	xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
	http://www.diamond.ac.uk/schema/gda/gda http://www.diamond.ac.uk/schema/gda/gda/gda-gda-1.0.xsd
	http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd">


	<description>
		To use the Simulated Area detector in dummy mode:
			1) Launch the Utilities > GDA SWMR AreaDetector Simulation
				and start the IOC.
			2) If running the IOC on another machine, export the WORKSTATION
				environment variable with the short name for the machine the
				Simulation IOC is running on (e.g. ws123).
	</description>

	<bean id="mic_adbase"
			class="gda.device.detector.areadetector.v17.impl.ADBaseImpl">
		<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:CAM:" />
	</bean>

	<bean id="mic_stats"
			class="gda.device.detector.areadetector.v17.impl.NDStatsImpl">
		<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:STAT:" />
		<property name="pluginBase">
			<bean class="gda.device.detector.areadetector.v17.impl.NDPluginBaseImpl">
				<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:STAT:" />
				<property name="initialArrayPort" value="CAM.CAM" />
			</bean>
		</property>
	</bean>

	<bean id="mic_ndarray"
			class="gda.device.detector.areadetector.v17.impl.NDArrayImpl">
		<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:ARR:" />
		<property name="pluginBase">
			<bean class="gda.device.detector.areadetector.v17.impl.NDPluginBaseImpl">
				<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:ARR:" />
				<property name="initialArrayPort" value="CAM.CAM" />
			</bean>
		</property>
	</bean>

	<bean id="mic_ndfile"
			class="gda.device.detector.areadetector.v17.impl.NDFileImpl">
		<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:HDF5:" />
		<property name="pluginBase">
			<bean class="gda.device.detector.areadetector.v17.impl.NDPluginBaseImpl">
				<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:HDF5:" />
				<property name="initialArrayPort" value="CAM.stat" />
			</bean>
		</property>
		<!-- These arguments are here to please Spring -->
		<property name="initialAutoSave" value="Not hooked up to anything!" />
		<property name="initialAutoIncrement" value="Not hooked up to anything!" />
		<property name="initialWriteMode" value="0" />
		<property name="initialNumCapture" value="1" />
		<property name="initialFileName" value="mic" />
		<property name="initialFileTemplate" value="%s%s.hdf5" />
	</bean>

	<bean id="mic_hdf5"
			class="gda.device.detector.areadetector.v17.impl.NDFileHDF5Impl">
		<property name="basePVName" value="#{ADSIM_HOST}-AD-SIM-01:HDF5:" />
		<property name="file" ref="mic_ndfile" />
	</bean>
</beans>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd">

	<bean
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="locations">
			<list value-type="java.lang.String">
				<value>file:${gda.config}/properties/live/java.properties
				</value>
				<value>file:${gda.config}/properties/common/java.properties</value>
			</list>
		</property>
	</bean>

	<bean class="gda.spring.FindableNameSetterPostProcessor" />

	<import resource="file:${gda.install.git.loc}/gda-mt.git/configurations/mt-config/servers/main/common/required_at_start.xml"/>
	
	<bean id="FileRegistrar" class="gda.data.fileregistrar.FileRegistrar">
		<property name="name" value="FileRegistrar"/>
		<property name="directory" value="/dls/bl-misc/dropfiles2/icat/dropZone/b16-" />
	</bean>
	
	<import resource="epics/motor/dcm.xml" />
	<import resource="epics/motor/fc.xml" />
	<import resource="epics/motor/fcarm.xml" />
	<import resource="epics/motor/fcbase.xml" />
	<import resource="epics/motor/fcsamp.xml" />
	<import resource="epics/motor/m1.xml" />
	<import resource="epics/motor/mlm.xml" />
	<import resource="epics/motor/positioner_motors.xml" />
	<import resource="epics/motor/piezo1.xml" />
	<import resource="epics/motor/s1.xml" />
	<import resource="epics/motor/s2.xml" />
	<import resource="epics/motor/s3.xml" />
	<import resource="epics/motor/s4.xml" />
	<import resource="epics/motor/s5.xml" />
	<import resource="epics/motor/s6.xml" />
	<import resource="epics/motor/s7.xml" />
	<import resource="epics/motor/s8.xml" />
	<import resource="epics/motor/tbbase.xml" />
	<import resource="epics/motor/tbdet.xml" />
	<import resource="epics/motor/tbdiag.xml" />
	<import resource="epics/motor/tbopt.xml" />
	<import resource="epics/motor/test1.xml" />
	<import resource="epics/motor/test2.xml" />
	<import resource="epics/motor/test3.xml" />
	
	<import resource="../common/scannable/motors.xml" />
	
	<import resource="epics/controlpoint/analogueout.xml" />
	<!-- import resource="epics/controlpoint/dcmpiezo.xml" /Removed from epics sd2-->

	<import resource="epics/monitor/analoguein.xml" />
	<import resource="epics/monitor/mstat.xml" />

	<import resource="epics/positioner/attenuator.xml" />
	<import resource="epics/positioner/diagnostic.xml" />

	<import resource="epics/pneumatic/diagnostic.xml" />
	<import resource="epics/pneumatic/shutterabsorber.xml" />


	<import resource="epics/detector/scaler_vortex.xml" />
	<import resource="epics/detector/mca_vortex.xml" />
<!-- 	<import resource="epics/detector/xmap_vortex.xml" /> -->
	<import resource="epics/detector/medipix.xml" />
	

	<bean id="dummyxMotor" class="gda.device.motor.DummyMotor">
		<property name="speed" value="10000" />
	</bean>
	<bean id="dummyyMotor" class="gda.device.motor.DummyMotor">
		<property name="speed" value="10000" />
	</bean>
	<bean id="dummyzMotor" class="gda.device.motor.DummyMotor">
		<property name="speed" value="10000" />
	</bean>
	<bean id="dummyx" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="dummyxMotor" />
	</bean>
	<bean id="dummyy" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="dummyyMotor" />
	</bean>
	<bean id="dummyz" class="gda.device.scannable.ScannableMotor">
		<property name="motor" ref="dummyzMotor" />
	</bean>

	<!-- live only -->
 	<import resource="transient.xml"/>

	<import resource="daserver.xml" />
	<import resource="metadata.xml" />
	<import resource="ippserver.xml" />
	<import resource="epics/detector/pilatus300k.xml" />

	<bean id="terminallog_path_provider" class="gda.data.ObservablePathConstructor">
		<property name="template" value="${gda.data.scan.datawriter.datadir}/gdaterminal.log" />
		<property name="gdaMetadata" ref="GDAMetadata" />
		<property name="local" value="true" />
	</bean>

	<import resource="file:${gda.install.git.loc}/gda-mt.git/configurations/mt-config/servers/main/common/terminal_logger.xml" />

	<import resource="file:${gda.install.git.loc}/gda-mt.git/configurations/mt-config/servers/main/common/abstract_command_server.xml"/>
	<bean id="command_server" parent="abstract_command_server">
		<property name="stopJythonScannablesOnStopAll" value="false" />
		<property name="disableBatonControlOverVisitMetadataEntry" value="true" />
	</bean>
	
	<bean id="Beamline" class="gda.device.epicsdevice.FindableEpicsDevice">
		<property name="deviceName" value="Beamline" />
		<property name="local" value="true"/>
	</bean>

	<import resource="exafs_stuff.xml" />


	<corba:export namespace="b16server" />
	
	<bean class="gda.spring.SingletonRegistrationPostProcessor" />


</beans>

<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="uk.ac.gda.client.application"
            name="Diamond Light Source Beamline I16">
         <property
               name="appName"
               value="Diamond Light Source Beamline I16">
         </property>
         <property
               name="aboutImage"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogomed.png">
         </property>
         <property
               name="windowImages"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo16.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo32.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo48.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo64.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo128.png">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:window?after=showView">
         <menu
               label="Queue Views">
            <command
                  commandId="org.eclipse.ui.views.showView"
                  label="Scan Queue"
                  style="push">
               <parameter
                     name="org.eclipse.ui.views.showView.viewId"
                     value="org.eclipse.scanning.event.ui.queueView:beanBundleName=org.eclipse.scanning.api;beanClassName=org.eclipse.scanning.api.event.scan.ScanBean;queueName=org.eclipse.scanning.status.set;topicName=org.eclipse.scanning.status.topic;submissionQueueName=org.eclipse.scanning.submission.queue;partName=Scan Queue">
               </parameter>
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:uk.ac.gda.beamline.i16.pil3_100k.live.stream.view.LiveStreamView?before=uk.ac.gda.client.live.stream.view.reset ">
         <command
               commandId="uk.ac.gda.client.live.stream.controls.freezecommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_freeze_blue.png"
               label="Freeze"
               style="toggle"
               tooltip="Enable/disable image update">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pil3_100k.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.startcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_play_blue.png"
               label="Start"
               style="push"
               tooltip="Star camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pil3_100k.live.stream.active">
                  <equals
                        value="STOPPED">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.stopcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_stop_blue.png"
               label="Stop"
               style="push"
               tooltip="Stop camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pil3_100k.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.snapshotcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream/icons/camera.png"
               label="Snapshot"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePartId">
                  <equals
                        value="uk.ac.gda.beamline.i16.pil3_100k.live.stream.view.LiveStreamView">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:uk.ac.gda.beamline.i16.merlin.live.stream.view.LiveStreamView?before=uk.ac.gda.client.live.stream.view.reset">
         <command
               commandId="uk.ac.gda.client.live.stream.controls.freezecommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_freeze_blue.png"
               label="Freeze"
               style="toggle"
               tooltip="Enable/disable image update">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.merlin.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.startcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_play_blue.png"
               label="Start"
               style="push"
               tooltip="Star camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.merlin.live.stream.active">
                  <equals
                        value="STOPPED">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.stopcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_stop_blue.png"
               label="Stop"
               style="push"
               tooltip="Stop camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.merlin.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.snapshotcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream/icons/camera.png"
               label="Snapshot"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePartId">
                  <equals
                        value="uk.ac.gda.beamline.i16.merlin.live.stream.view.LiveStreamView">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:uk.ac.gda.beamline.i16.pilatus2.live.stream.view.LiveStreamView?before=uk.ac.gda.client.live.stream.view.reset">
         <command
               commandId="uk.ac.gda.client.live.stream.controls.freezecommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_freeze_blue.png"
               label="Freeze"
               style="toggle"
               tooltip="Enable/disable image update">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pilatus2.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.startcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_play_blue.png"
               label="Start"
               style="push"
               tooltip="Star camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pilatus2.live.stream.active">
                  <equals
                        value="STOPPED">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.stopcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_stop_blue.png"
               label="Stop"
               style="push"
               tooltip="Stop camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i16.pilatus2.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.snapshotcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream/icons/camera.png"
               label="Snapshot"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePartId">
                  <equals
                        value="uk.ac.gda.beamline.i16.pilatus2.live.stream.view.LiveStreamView">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="gda.rcp.EmptyPerspective"
            icon="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo16.png"
            id="uk.ac.gda.beamline.I16ScanPerspective"
            name="I16 Scan Perspective">
      </perspective>
      <perspective
            class="uk.ac.gda.beamline.i16.perspectives.AreaDetectorPerspective"
            icon="icons/areadetector.png"
            id="uk.ac.gda.beamline.i16.perspectives.areadetector"
            name="Area Detector">
      </perspective>
   </extension>
   <extension point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="uk.ac.gda.beamline.I16ScanPerspective">
         <view
               id="gda.rcp.jythonterminalview"
               ratio="0.7f"
               relationship="bottom"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="org.eclipse.ui.navigator.ProjectExplorer"
               ratio="0.15f"
               relationship="left"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="uk.ac.gda.client.liveplotview"
               ratio="0.5f"
               relationship="right"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="uk.ac.gda.rcp.views.dashboardView"
               ratio="0.21f"
               relationship="top"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="uk.ac.diamond.sda.navigator.views.FileView"
               relationship="stack"
               relative="org.eclipse.ui.navigator.ProjectExplorer"
               visible="false"/>
         <view
               id="uk.ac.gda.client.navigator"
               relationship="stack"
               relative="org.eclipse.ui.navigator.ProjectExplorer"
               visible="false"/>
         <view
               id="org.eclipse.ui.views.ProblemView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.eclipse.search.ui.views.SearchView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.eclipse.ui.console.ConsoleView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.eclipse.ui.views.ProgressView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.1D"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.2D"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.1D_and_2D"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="gda.rcp.views.baton.BatonView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="uk.ac.gda.rcp.views.baton.MessageView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="org.dawb.common.ui.views.ValueView"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               visible="false"/>
         <view
               id="uk.ac.diamond.scisoft.analysis.rcp.plotView1"
               relationship="stack"
               relative="uk.ac.gda.client.liveplotview"/>
         <view
               id="org.dawb.workbench.views.dataSetView"
               relationship="stack"
               relative="uk.ac.gda.client.liveplotview"
               visible="false"/>
         <view
               id="org.eclipse.ui.views.ContentOutline"
               relationship="stack"
               relative="uk.ac.gda.client.liveplotview"/>
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.fixed:org.dawnsci.plotting.histogram.histogram_tool_page_2"
               relationship="stack"
               relative="uk.ac.gda.rcp.views.dashboardView"
               visible="false"/>
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.2D"
               ratio="0.7f"
               relationship="bottom"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="uk.ac.diamond.scisoft.analysis.rcp.plotViewMultiple:Pilatus"
               relationship="stack"
               relative="org.dawb.workbench.plotting.views.toolPageView.2D"/>
         <view
               id="uk.ac.diamond.scisoft.analysis.rcp.plotViewMultiple:BPM"
               relationship="stack"
               relative="org.dawb.workbench.plotting.views.toolPageView.2D"/>
         <view
               id="uk.ac.diamond.scisoft.analysis.rcp.plotViewMultiple:CAM1"
               relationship="stack"
               relative="org.dawb.workbench.plotting.views.toolPageView.2D"/>
         <view
               id="uk.ac.diamond.scisoft.analysis.rcp.plotViewMultiple:Merlin"
               relationship="stack"
               relative="org.dawb.workbench.plotting.views.toolPageView.2D"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            class="org.eclipse.scanning.event.ui.view.StatusQueueView"
            id="org.eclipse.scanning.event.ui.queueView:beanBundleName=org.eclipse.scanning.api;beanClassName=org.eclipse.scanning.api.event.scan.ScanBean;queueName=org.eclipse.scanning.status.set;topicName=org.eclipse.scanning.status.topic;submissionQueueName=org.eclipse.scanning.submission.queue;partName=Scan Queue"
            name="Scan Queue View"
            restorable="true">
      </view>
      <view
            class="uk.ac.gda.client.live.stream.view.LiveStreamView"
            id="uk.ac.gda.beamline.i16.pil3_100k.live.stream.view.LiveStreamView"
            name="pil3_100k"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            class="gda.rcp.views.ViewFactory:statusView"
            icon="icons/Status.png"
            id="uk.ac.gda.beamline.i16.statusView"
            name="Beamline Status"
            restorable="true">
      </view>
      <view
            class="uk.ac.gda.client.live.stream.view.LiveStreamView"
            id="uk.ac.gda.beamline.i16.merlin.live.stream.view.LiveStreamView"
            name="merlin"
            restorable="true">
      </view>
      <view
            class="uk.ac.gda.client.live.stream.view.LiveStreamView"
            id="uk.ac.gda.beamline.i16.pilatus2.live.stream.view.LiveStreamView"
            name="pilatus2"
            restorable="true">
      </view>
   </extension>
   <extension
         point="uk.ac.gda.client.dashboard.objects">
      <Scannable
            name="diode">
      </Scannable>
      <Scannable
            name="ic1">
      </Scannable>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="uk.ac.gda.client.live.stream.controls.camera.state.EpicsCameraState">
         <variable
               name="i16.pil3_100k.live.stream.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="i16.merlin.live.stream.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="i16.pilatus2.live.stream.active"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>
</plugin>


<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="uk.ac.gda.client.application"
            name="Diamond Beamline I13">
         <property
               name="appName"
               value="Diamond Beamline I13">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>         
         <property
               name="windowImages"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo16.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo32.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo48.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo64.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo128.png">
         </property>
         <property
               name="aboutImage"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo128.png">
         </property>
         <property
               name="aboutText"
               value="Diamond Beamline I13 &#x0A;&#x0A;Based on GDA See &lt;http://www.opengda.org/&gt;">
         </property>    
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="I13 Manuals"
            visible="true"
            id="gda.rcp.help.i13.manuals">
         <action
               id="gda.rcp.help.beamlinemanual"
               label="Beamline Manual"
               menubarPath="help/helpStart"               
               style="push">
               <class class="org.eclipse.help.ui.browser.LaunchURL">
                    <parameter name="url" value="http://wiki.diamond.ac.uk/Wiki/Wiki.jsp?page=I13%20-%20X-ray%20Imaging%20and%20Coherence" />
               </class>               
        	</action>
         <action
               id="gda.rcp.help.elog"
               label="ELog - Send Feedback"
               menubarPath="help/helpStart"               
               style="push">
                <class class="org.eclipse.help.ui.browser.LaunchURL">
                    <parameter name="url" value="https://elog.pri.diamond.ac.uk/" />
               </class>               
        	</action>          
         <action
               id="gda.rcp.help.reportabug"
               label="Report A Problem"
               menubarPath="help/helpStart"               
               style="push">
                <class class="org.eclipse.help.ui.browser.LaunchURL">
                    <parameter name="url" value="http://trac.diamond.ac.uk/beam/login" />
               </class>               
        	</action>        	
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            name="I13J Views"
            id="uk.ac.gda.beamline.i13j"/>
                       <view
                 allowMultiple="false"
                 category="uk.ac.gda.beamline.i13j"
                 class="gda.rcp.views.ViewFactory:statusView"
                 icon="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo32.png"
                 id="uk.ac.gda.beamline.i13j.views.StatusView"
                 name="Status">
      </view>
                       <view
                             allowMultiple="false"
                             category="uk.ac.diamond.scisoft.analysis.rcp"
                             class="uk.ac.diamond.scisoft.analysis.rcp.views.PlotView"
                             icon="icons/chart_curve.png"
                             id="uk.ac.gda.beamline.i13j.DetectorPlot"
                             name="Detector Image"
                             restorable="true">
                       </view>             
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective"
            icon="icons/releng_gears.gif"
            id="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective"
            name="Data Collection">
      </perspective>
      <perspective
            class="uk.ac.diamond.scisoft.analysis.rcp.DataExplorationPerspective"
            icon="icons/chart_curve.png"
            id="uk.ac.gda.beamline.i13j.perspectives.DataExplorer"
            name="Data Explorer">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="*">
            <perspectiveShortcut
                  id="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective">
            </perspectiveShortcut>
      </perspectiveExtension>
   </extension>    
   
<extension point="org.eclipse.ui.activities">

	<!--category
	    name="I13 GDA"
	    id="uk.ac.gda.beamline.i13.GDACategory">
	</category>
	<categoryActivityBinding
	   activityId="uk.ac.gda.beamline.i13j.DataCollectionActiviity"
	   categoryId="uk.ac.gda.beamline.i13.GDACategory">
	</categoryActivityBinding>	
	<categoryActivityBinding
	   activityId="uk.ac.gda.beamline.i13j.DataAnalysisActiviity"
	   categoryId="uk.ac.gda.beamline.i13.GDACategory">
	</categoryActivityBinding-->	
	<!--activity
			description="Data Collection Activity"
			id="uk.ac.gda.beamline.i13j.DataCollectionActiviity"
			name="DataCollection">
			<enabledWhen>
            		<with variable="activeWorkbenchWindow.activePerspective">
                		<equals value="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective"/>
            		</with>
    		</enabledWhen>
	</activity>
    <activityPatternBinding activityId="uk.ac.gda.beamline.i13j.DataCollectionActiviity" pattern="uk*"/-->
	<!--activity
			description="Data Analysis Activity"
			id="uk.ac.gda.beamline.i13j.DataAnalysisActiviity"
			name="DataAnalysis">
			<enabledWhen>
            		<with variable="activeWorkbenchWindow.activePerspective">
                		<equals value="uk.ac.gda.beamline.i13j.perspectives.DataExplorer"/>
            		</with>
    		</enabledWhen>
	</activity>

	<activity
			description="DAWB"
			id="uk.ac.gda.beamline.i13j.DAWBActiviity"
			name="DAWB">
			<disableWhen>
            		<with variable="activeWorkbenchWindow.activePerspective">
                		<equals value="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective"/>
            		</with>
    		</disableWhen>
	</activity-->

    <activity id="rcpcolibri.disablextensions" name="Hidden activities">
			<enabledWhen><not>
            		<with variable="activeWorkbenchWindow.activePerspective">
                		<or>
                		<equals value="uk.ac.gda.beamline.i13j.perspectives.DataCollectionPerspective"/>
                		<equals value="uk.ac.gda.beamline.i13j.perspectives.DataExplorer"/>
                		</or>
            		</with>
            		</not>
    		</enabledWhen>
    </activity>
    <activityPatternBinding activityId="rcpcolibri.disablextensions" pattern="org.dawb.*"/>
   </extension>       
</plugin>

<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="uk.ac.gda.client.application"
            description="GDA for Diamond Light Source Beamline I06 - Nanoscience"
            name="GDA for Diamond Light Source Beamline I06">
         <property
               name="appName"
               value="GDA for Diamond Light Source Beamline I06">
         </property>
         <property
               name="windowImages"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo16.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo32.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo48.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo64.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo128.png">
         </property>
         <property
               name="aboutImage"
               value="icons/schematic_I06_sm.png">
         </property>
         <property
               name="aboutText"
               value="GDA for DLS Beamone i06.&#x0A;&#x0A;Build id: &#x0A;&#x0A;Copyright Â© 2009-2017 Diamond Light Source Ltd.&#x0A;&#x0A;http://www.opengda.org">
         </property>
         <property
               name="startupForegroundColor"
               value="000000">
         </property>
         <property
               name="startupProgressRect"
               value="2,215,598,15">
         </property>
         <property
               name="startupMessageRect"
               value="4,195,598,20">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>

   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="uk.ac.gda.beamline.i06.perspective.Experiment">
         <view
               closeable="false"
               id="org.eclipse.ui.navigator.ProjectExplorer"
               minimized="false"
               moveable="true"
               ratio="0.58"
               relationship="left"
               relative="org.eclipse.ui.editorss"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="true"
               id="gda.rcp.views.baton.BatonView"
               minimized="false"
               moveable="true"
               relationship="stack"
               relative="org.eclipse.ui.navigator.ProjectExplorer"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="false"
               id="uk.ac.gda.client.liveplotview"
               minimized="false"
               moveable="true"
               ratio="0.6"
               relationship="top"
               relative="org.eclipse.ui.editorss"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="false"
               id="gda.rcp.jythonterminalview"
               minimized="false"
               moveable="true"
               ratio="0.6"
               relationship="top"
               relative="org.eclipse.ui.navigator.ProjectExplorer"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="true"
               id="uk.ac.gda.nano.views.RegionalisedScanView"
               moveable="true"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               showTitle="true"
               visible="true">
         </view>         
         <view
               closeable="true"
               id="uk.ac.gda.nano.views.SuperConductingMagnet"
               moveable="true"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="true"
               id="uk.ac.gda.nano.views.DiffractionAndDichroismView"
               moveable="true"
               relationship="stack"
               relative="gda.rcp.jythonterminalview"
               showTitle="true"
               visible="true">
         </view>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="uk.ac.gda.beamline.i06.perspective.Peem">
         <view
               id="org.dawb.workbench.plotting.views.toolPageView.fixed"
               minimized="true"
               relationship="stack"
               relative="org.eclipse.ui.editorss">
         </view>
      </perspectiveExtension>

   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            class="gda.rcp.views.ViewFactoryFinder:pcoControlWidgetFactory"
            id="uk.ac.gda.beamline.i06.pco.live.stream.view.LiveStreamViewWithHistogram"
            name="PCO Array"
            restorable="true">
      </view>
   </extension>
   <extension point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:uk.ac.gda.beamline.i06.pco.live.stream.view.LiveStreamViewWithHistogram">
         <command
               commandId="uk.ac.gda.client.live.stream.snapshotcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream/icons/camera.png"
               label="Sanpshot"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePartId">
                  <equals
                        value="uk.ac.gda.beamline.i06.pco.live.stream.view.LiveStreamViewWithHistogram">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.startcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_play_blue.png"
               label="Start"
               style="push"
               tooltip="Start camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i06.pco.live.stream.active">
                  <equals
                        value="STOPPED">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.stopcommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_stop_blue.png"
               label="Stop"
               style="push"
               tooltip="Stop camera acquisition">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i06.pco.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="uk.ac.gda.client.live.stream.controls.freezecommand"
               icon="platform:/plugin/uk.ac.gda.client.live.stream.controls/icons/control_freeze_blue.png"
               label="Freeze"
               style="toggle"
               tooltip="Enable/disable image update">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="i06.pco.live.stream.active">
                  <equals
                        value="RUNNING">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="uk.ac.gda.client.live.stream.controls.camera.state.EpicsCameraState">
         <variable
               name="i06.pco.live.stream.active"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="uk.ac.gda.beamline.i06.perspective.Peem"
            id="uk.ac.gda.beamline.i06.perspective.Peem"
            name="PEEM">
      </perspective>
      <perspective
            class="uk.ac.gda.beamline.i06.perspective.Experiment"
            id="uk.ac.gda.beamline.i06.perspective.Experiment"
            name="Experiment Perspective">
      </perspective>
   </extension>
   <extension
         id="dummy_product"
         point="org.eclipse.core.runtime.products">
      <product
            application="uk.ac.gda.client.application"
            name="uk.ac.gda.beamline.i06.dummy.product">
         <property
               name="appName"
               value="uk.ac.gda.beamline.i06.dummy.product">
         </property>

         <property
               name="aboutText"
               value="GDA for DLS Beamone i06.">
         </property>
         <property
               name="windowImages"
               value="platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo16.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo32.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo48.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo64.png,platform:/plugin/uk.ac.gda.core/icons/GDAlogos/GDALogo128.png">
         </property>
         <property
               name="startupForegroundColor"
               value="000000">
         </property>
         <property
               name="startupMessageRect"
               value="4,195,598,20">
         </property>
         <property
               name="startupProgressRect"
               value="2,215,598,15">
         </property>
         <property
               name="aboutImage"
               value="icons/schematic_I06_sm.png">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="uk.ac.gda.beamline.i06.EarlyStartup">
      </startup>
   </extension>

</plugin>
